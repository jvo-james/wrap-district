<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Wrap District — Hero</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
<style>
  <style>
/* ==========================================================================
   WRAP DISTRICT — ULTRA-PREMIUM STYLESHEET
   Purpose: Complete, highly-detailed CSS for the provided HTML body.
   Design language: warm energetic palette (reds & golds), glass surfaces,
   deep shadows, abundant micro-interactions, mobile-first responsiveness,
   and extensive accessibility support.
   ========================================================================== */

/* =========================
   VARIABLES / THEME
   ========================= */
:root{
  --red-500: #D9302A;
  --red-700: #B71C1C;
  --gold-500: #FFBF00;
  --gold-400: #FFD46A;
  --bg-900: #0f0f10;
  --bg-850: #121216;
  --panel: rgba(255,255,255,0.02);
  --glass-01: rgba(255,255,255,0.03);
  --glass-02: rgba(255,255,255,0.015);
  --muted: #cfcfcf;
  --muted-2: #a9a9a9;
  --text: #f6f6f6;
  --accent-shadow: 0 22px 60px rgba(0,0,0,0.55);
  --soft-shadow: 0 8px 36px rgba(0,0,0,0.45);
  --max-width: 1200px;
  --radius-xl: 20px;
  --radius-lg: 14px;
  --radius-md: 10px;
  --radius-sm: 8px;
  --ease: cubic-bezier(.2,.9,.25,1);
  --speed-fast: 200ms;
  --speed-med: 420ms;
  --speed-slow: 900ms;
  --glass-border: rgba(255,255,255,0.03);
  --muted-contrast: rgba(255,255,255,0.06);
}

/* =========================
   GLOBAL RESET & BASE
   ========================= */
*{box-sizing:border-box}
html,body{height:100%;margin:0;padding:0;background:
  radial-gradient(800px 360px at 10% 0%, rgba(255,191,0,0.02), transparent 6%),
  linear-gradient(180deg, var(--bg-900) 0%, #0b0b0b 100%);color:var(--text);font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:16px;line-height:1.45;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
img{max-width:100%;height:auto;display:block}
a{color:inherit;text-decoration:none}
button{font-family:inherit}
.container{max-width:var(--max-width);margin:0 auto;padding:0 18px}

/* =========================
   UTILITIES
   ========================= */
.hidden{display:none!important}
.visually-hidden{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}
.flex{display:flex}
.grid{display:grid}
.col{display:flex;flex-direction:column}
.center{display:flex;align-items:center;justify-content:center}
.space-between{display:flex;justify-content:space-between;align-items:center}
.mb-6{margin-bottom:24px}
.mt-6{margin-top:24px}
.p-6{padding:24px}
.rounded{border-radius:12px}
.shadow-soft{box-shadow:var(--soft-shadow)}
.shadow-deep{box-shadow:var(--accent-shadow)}
.text-muted{color:var(--muted);font-size:14px}
.small{font-size:13px;color:var(--muted)}
.badge{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;font-weight:800;font-size:12px;background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid var(--glass-border)}
.badge.hot{background:linear-gradient(90deg,var(--red-500),var(--red-700));color:#fff}
.badge.gold{background:linear-gradient(90deg,var(--gold-500),var(--gold-400));color:#111;font-weight:900}

/* focus styles */
:focus{outline:3px solid rgba(255,191,0,0.14);outline-offset:2px}
button:focus, a:focus, input:focus, textarea:focus{outline:2px solid rgba(255,191,0,0.06);outline-offset:2px}

/* =========================
   HEADER
   ========================= */
.site-header{position:sticky;top:0;z-index:120;background:linear-gradient(180deg, rgba(15,15,16,0.72), rgba(15,15,16,0.45));backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);border-bottom:1px solid rgba(255,255,255,0.02);padding:10px 0}
.header-inner{display:flex;align-items:center;justify-content:space-between;gap:12px}
.brand{display:flex;align-items:center;gap:12px}
.logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--gold-500),#ff9e00);display:flex;align-items:center;justify-content:center;box-shadow:0 14px 40px rgba(255,191,0,0.12)}
.brand-title{font-family:Montserrat, sans-serif;font-size:18px;color:var(--red-700);font-weight:900;letter-spacing:0.6px}
.brand-tag{display:block;font-size:12px;color:var(--muted)}
.main-nav .nav-list{display:flex;gap:12px;align-items:center;margin:0;padding:0;list-style:none}
.main-nav .nav-link{padding:8px 10px;border-radius:10px;color:var(--muted);font-weight:700;transition:all var(--speed-fast) var(--ease)}
.main-nav .nav-link:hover{color:var(--text);transform:translateY(-2px);background:rgba(255,255,255,0.02)}
.header-actions{display:flex;align-items:center;gap:10px}
.icon-btn{display:inline-grid;place-items:center;border-radius:10px;border:none;background:transparent;color:var(--text);padding:8px;cursor:pointer;transition:transform var(--speed-fast), background var(--speed-fast)}
.icon-btn:hover{transform:translateY(-4px);background:rgba(255,255,255,0.02)}
.btn{display:inline-flex;align-items:center;gap:10px;padding:10px 14px;border-radius:12px;border:none;cursor:pointer;font-weight:800;transition:transform var(--speed-fast) var(--ease)}
.btn:hover{transform:translateY(-4px)}
.btn-cta{background:linear-gradient(90deg,var(--gold-500),var(--gold-400));color:#111;box-shadow:0 20px 60px rgba(255,191,0,0.12)}
.btn-outline{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--text)}
.cart-badge{display:inline-grid;place-items:center;min-width:20px;height:20px;padding:0 6px;border-radius:999px;background:linear-gradient(90deg,var(--gold-500),var(--gold-400));color:#111;font-weight:900;font-size:13px;box-shadow:0 12px 36px rgba(255,191,0,0.12);transition:transform 360ms}
.cart-badge.pulse{animation:cartPulse 900ms ease}
@keyframes cartPulse{0%{transform:scale(1)}30%{transform:scale(1.18)}100%{transform:scale(1)}}

/* ===================================
   HERO SECTION (MOBILE-FIRST)
   =================================== */
.hero-section{padding:22px 0 36px}
.hero-inner{display:grid;grid-template-columns:1fr;gap:20px;align-items:start;position:relative}
.hero-left{position:relative;border-radius:18px;padding:18px;background:
  radial-gradient(circle at 10% 10%, rgba(255,191,0,0.02), transparent 6%),
  linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03));border:1px solid var(--glass-border);box-shadow:var(--soft-shadow);overflow:hidden}
.hero-bg-layer{position:absolute;inset:0;pointer-events:none;opacity:0.08;filter:blur(18px);transform:translateZ(0)}
.hero-bg-layer[data-layer="smoke"]{background:radial-gradient(circle at 20% 30%, rgba(255,255,255,0.06), transparent 8%);}
.hero-bg-layer[data-layer="radial"]{background:radial-gradient(600px 240px at 5% 10%, rgba(255,191,0,0.03), transparent 12%);}
.hero-bg-layer[data-layer="grain"]{background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"><filter id="f"><feTurbulence baseFrequency="0.8" numOctaves="1" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23f)" opacity="0.02" fill="black"/></svg>');opacity:0.03;mix-blend-mode:overlay}

/* carousel */
.hero-carousel{position:relative;z-index:2;overflow:visible}
.hero-slide{position:relative;border-radius:14px;padding:12px;display:grid;grid-template-columns:1fr;gap:12px;align-items:center;transition:opacity 520ms var(--ease), transform 520ms var(--ease);will-change:transform,opacity}
.hero-slide[aria-hidden="true"]{opacity:0;pointer-events:none;transform:translateY(14px)}
.hero-slide[aria-hidden="false"]{opacity:1;transform:translateY(0)}
.slide-content{position:relative;z-index:6}
.eyebrow{display:flex;gap:10px;align-items:center;margin-bottom:8px}
.hero-title{font-family:Montserrat, sans-serif;font-weight:900;font-size:26px;line-height:1.05;margin:6px 0;color:var(--text);text-shadow:0 8px 30px rgba(0,0,0,0.6)}
.hero-sub{color:var(--muted);margin:0 0 14px;font-size:14px;max-width:92%}
.hero-cta{display:flex;gap:10px;flex-wrap:wrap}
.hero-ingredients{display:flex;gap:10px;margin-top:12px;align-items:center;padding:0;list-style:none}
.ingredient-item{display:flex;align-items:center;gap:8px;padding:8px 10px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008));border:1px solid rgba(255,255,255,0.02);cursor:default;transition:transform 320ms var(--ease)}
.ingredient-item:hover{transform:translateY(-8px);box-shadow:0 26px 60px rgba(0,0,0,0.5)}
.ingredient-item .ing-label{font-weight:700;font-size:13px}

/* slide media (image) */
.slide-media{height:220px;border-radius:12px;background-size:cover;background-position:center;border:1px solid rgba(255,255,255,0.02);box-shadow:0 24px 80px rgba(0,0,0,0.6);transition:transform 720ms var(--ease), filter 720ms var(--ease)}
.hero-slide:hover .slide-media{transform:scale(1.02);filter:saturate(1.06)}

/* carousel controls */
.carousel-controls{display:flex;gap:10px;align-items:center;margin-top:12px}
.carousel-prev,.carousel-next{background:rgba(0,0,0,0.45);border-radius:999px;padding:8px;border:none;color:var(--text);cursor:pointer;box-shadow:0 8px 26px rgba(0,0,0,0.45);transition:transform 240ms}
.carousel-prev:hover,.carousel-next:hover{transform:translateY(-6px)}
.carousel-dots{display:flex;gap:8px;align-items:center}
.carousel-dots .dot{width:10px;height:10px;border-radius:999px;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.02);cursor:pointer;transition:transform 240ms,background 240ms}
.carousel-dots .dot.active{transform:scale(1.4);background:linear-gradient(90deg,var(--gold-500),var(--gold-400));box-shadow:0 10px 30px rgba(255,191,0,0.12)}

/* hero-right quick picks */
.hero-right{padding:12px}
.featured-card{padding:12px;border-radius:14px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.008));border:1px solid rgba(255,255,255,0.02);box-shadow:var(--soft-shadow)}
.featured-title{font-family:Montserrat, sans-serif;font-weight:900;font-size:18px}
.quick-picks{display:flex;flex-direction:column;gap:12px;padding:0;margin-top:12px;list-style:none}
.pick{display:flex;align-items:center;gap:12px;padding:10px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));border:1px solid rgba(255,255,255,0.02)}
.pick-media{width:60px;height:60px;border-radius:10px;background-size:cover;background-position:center;border:1px solid rgba(255,255,255,0.02);box-shadow:0 10px 36px rgba(0,0,0,0.5)}
.pick-info strong{display:block;font-weight:900}
.pick .muted{color:var(--muted);font-size:13px}
.pick-actions{margin-left:auto;display:flex;gap:8px;align-items:center}

/* mini cart */
.mini-cart{margin-top:14px;padding-top:12px;border-top:1px dashed rgba(255,255,255,0.02)}
.mini-cart-row{display:flex;justify-content:space-between;align-items:center}
.mini-cart .cart-total{font-weight:900;color:var(--gold-500)}

/* =========================================
   PROMO RADIANT (collage, glow & sparkles)
   ========================================= */
.promo-radiant{margin-top:18px;padding:18px;border-radius:18px;overflow:visible}
.promo-inner{display:grid;grid-template-columns:1fr;gap:18px;align-items:center}
.promo-left{padding:12px;border-radius:12px;background:linear-gradient(180deg, rgba(11,11,12,0.38), rgba(255,191,0,0.02));border:1px solid rgba(255,255,255,0.02);box-shadow:0 20px 60px rgba(183,28,28,0.06)}
.promo-badge{display:inline-block;padding:8px 12px;border-radius:999px;background:linear-gradient(90deg,var(--red-500),var(--red-700));color:#fff;font-weight:900}
.promo-title{font-family:Montserrat;font-weight:900;font-size:20px;margin:10px 0;color:var(--text)}
.promo-desc{color:var(--muted);line-height:1.4;margin-bottom:10px}
.promo-cta{display:flex;gap:10px;margin-top:12px}

/* collage */
.promo-collage{position:relative;height:220px;width:100%;display:grid;place-items:center}
.collage-item{position:absolute;border-radius:14px;background-size:cover;background-position:center;border:4px solid rgba(255,255,255,0.04);box-shadow:0 40px 90px rgba(0,0,0,0.6);transform-origin:center;transition:transform 680ms cubic-bezier(.2,.9,.25,1), box-shadow 680ms}
.collage-item.big{width:240px;height:240px;right:6px;top:-16px;transform:rotate(-6deg);z-index:3}
.collage-item.medium{width:160px;height:160px;left:6px;top:20px;transform:rotate(6deg);z-index:2}
.collage-item.small{width:100px;height:100px;left:80px;bottom:10px;transform:rotate(-4deg);z-index:4}
.promo-sparkle{position:absolute;width:12px;height:12px;border-radius:999px;background:radial-gradient(circle, rgba(255,255,255,0.95), rgba(255,255,255,0.02));opacity:0.3;transform:scale(0.7);filter:blur(6px)}
.promo-sparkle.sparkle-1{left:30%;top:20%}
.promo-sparkle.sparkle-2{left:80%;top:60%}

/* promo glow toggles via .promo-glow */
.promo-radiant.promo-glow .promo-left{box-shadow:0 30px 160px rgba(255,191,0,0.12)}
.promo-radiant.promo-glow .collage-item{transform:translateY(-12px) rotate(0);filter:drop-shadow(0 40px 80px rgba(255,191,0,0.06))}

/* ====================================
   MENU GRID & CARDS
   ==================================== */
.menu-section{padding:20px 0 46px}
.section-head{margin-bottom:14px}
.section-title{font-family:Montserrat;font-weight:900;font-size:20px}
.section-sub{color:var(--muted);margin-top:6px}
.menu-filters{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:18px}
.filter{padding:8px 12px;border-radius:999px;background:transparent;border:1px solid rgba(255,255,255,0.02);cursor:pointer;color:var(--muted);font-weight:800;transition:all var(--speed-fast)}
.filter.active{background:linear-gradient(90deg,var(--gold-500),var(--gold-400));color:#111;transform:translateY(-3px);box-shadow:0 14px 36px rgba(255,191,0,0.08)}
.menu-grid{display:grid;grid-template-columns:repeat(1,1fr);gap:14px}

/* menu item card */
.menu-item{display:flex;gap:12px;align-items:flex-start;padding:12px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008));border:1px solid rgba(255,255,255,0.02);transition:transform 420ms var(--ease), box-shadow 420ms}
.menu-item:hover{transform:translateY(-8px);box-shadow:0 30px 80px rgba(0,0,0,0.6)}
.thumb{width:130px;height:96px;border-radius:10px;background-size:cover;background-position:center;border:1px solid rgba(255,255,255,0.02);box-shadow:0 18px 60px rgba(0,0,0,0.55)}
.meta{flex:1;display:flex;flex-direction:column}
.name{font-weight:900;margin:0 0 6px}
.desc{color:var(--muted);margin:0 0 12px;font-size:14px}
.meta-line{display:flex;align-items:center;justify-content:space-between;gap:12px}
.meta-actions{display:flex;gap:8px;align-items:center}

/* ====================================
   BUILDER / MODAL
   ==================================== */
.modal-builder{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;padding:18px;background:linear-gradient(180deg, rgba(0,0,0,0.66), rgba(0,0,0,0.78));z-index:240}
.modal-shell{display:grid;grid-template-columns:1fr;gap:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:16px;padding:14px;border:1px solid rgba(255,255,255,0.03);max-width:900px;width:100%;box-shadow:0 60px 160px rgba(0,0,0,0.75)}
.modal-left{padding:8px}
.modal-right{padding:12px;border-left:1px dashed rgba(255,255,255,0.02)}
.modal-header{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:12px}
.builder-stepper{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
.builder-stepper .step{background:transparent;border:1px solid rgba(255,255,255,0.03);padding:8px 10px;border-radius:10px;cursor:pointer;color:var(--muted);font-weight:800}
.builder-stepper .step.active{background:linear-gradient(90deg,var(--gold-500),var(--gold-400));color:#111;box-shadow:0 18px 46px rgba(255,191,0,0.08)}
.builder-step-panel{padding:10px;min-height:120px}
.options-grid{display:flex;flex-wrap:wrap;gap:10px}
.option{padding:10px 12px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008));border:1px solid rgba(255,255,255,0.02);cursor:pointer;transition:transform var(--speed-fast) var(--ease), box-shadow var(--speed-fast)}
.option:hover{transform:translateY(-6px);box-shadow:0 20px 46px rgba(0,0,0,0.55)}
.option.selected{background:linear-gradient(90deg,var(--gold-500),var(--gold-400));color:#111;border-color:rgba(0,0,0,0.06);font-weight:900}

/* preview */
.live-preview{display:flex;flex-direction:column;gap:12px}
.preview-image{height:160px;border-radius:12px;background-size:cover;background-position:center;border:1px solid rgba(255,255,255,0.02);box-shadow:0 30px 80px rgba(0,0,0,0.6)}
.preview-title{font-weight:900;margin:6px 0}
.preview-meta{display:flex;align-items:center;justify-content:space-between;gap:12px}
.preview-price{font-weight:900;color:var(--gold-500);font-size:18px}
.preview-qty{display:flex;align-items:center;gap:8px}
.preview-qty .icon-btn{background:transparent;border:1px solid rgba(255,255,255,0.03);padding:6px;border-radius:8px}

/* delivery address */
.delivery-address{margin-top:10px}
.delivery-address input{width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--text)}

/* ====================================
   CART DRAWER
   ==================================== */
.drawer{position:fixed;right:0;top:0;height:100%;width:100%;max-width:420px;background:linear-gradient(180deg,#0f0f10,#141417);z-index:300;border-left:1px solid rgba(255,255,255,0.02);transform:none;box-shadow:0 40px 120px rgba(0,0,0,0.6)}
.drawer-shell{display:flex;flex-direction:column;height:100%;padding:18px}
.drawer-head{display:flex;align-items:center;justify-content:space-between;gap:12px;padding-bottom:12px;border-bottom:1px dashed rgba(255,255,255,0.02)}
.cart-body{overflow:auto;padding-top:12px;flex:1;display:flex;flex-direction:column;gap:12px}
.cart-items{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:12px}
.cart-item{padding:12px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008));border:1px solid rgba(255,255,255,0.02)}
.cart-summary{border-top:1px dashed rgba(255,255,255,0.02);padding-top:12px}
.cart-row{display:flex;justify-content:space-between;align-items:center;padding:6px 0}

/* cart actions */
.cart-actions{display:flex;gap:10px;flex-direction:column;margin-top:12px}
.cart-actions .btn{width:100%}
.clear-cart{background:transparent;border:1px solid rgba(255,255,255,0.02);color:var(--muted);padding:10px;border-radius:10px}

/* ====================================
   CHAT WIDGET
   ==================================== */
.chat-widget{position:fixed;right:16px;bottom:16px;z-index:320;display:flex;flex-direction:column;align-items:flex-end;gap:8px}
.chat-toggle{width:56px;height:56px;border-radius:999px;background:linear-gradient(90deg,var(--red-500),var(--red-700));border:none;color:#fff;box-shadow:0 18px 56px rgba(217,48,42,0.18);display:grid;place-items:center;cursor:pointer}
.chat-panel{width:320px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);box-shadow:0 40px 120px rgba(0,0,0,0.6)}
.chat-head{display:flex;align-items:center;gap:10px;padding:10px;border-bottom:1px solid rgba(255,255,255,0.02)}
.chat-body{padding:10px;max-height:300px;overflow:auto}
.chat-msg{padding:10px 12px;border-radius:12px;margin-bottom:8px;max-width:82%}
.chat-msg.user{margin-left:auto;background:linear-gradient(90deg,var(--gold-500),var(--gold-400));color:#111;font-weight:700}
.chat-msg.bot{background:rgba(255,255,255,0.02);color:var(--text)}
.chat-foot{display:flex;gap:8px;padding:10px;border-top:1px solid rgba(255,255,255,0.02)}
.chat-input{flex:1;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--text)}

/* ====================================
   TESTIMONIALS / ABOUT / CONTACT
   ==================================== */
.testimonials-section{padding:18px 0}
.testimonials-grid{display:grid;grid-template-columns:repeat(1,1fr);gap:12px}
.testimonial{background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008));border:1px solid rgba(255,255,255,0.02);padding:12px;border-radius:12px}
.about-section{padding:20px 0}
.about-grid{display:grid;grid-template-columns:1fr;gap:12px;align-items:center}
.about-media{height:220px;border-radius:14px;background-size:cover;background-position:center;border:1px solid rgba(255,255,255,0.02)}
.features-list{list-style:none;padding:0;margin:18px 0 0;display:flex;flex-direction:column;gap:12px}
.features-list li{display:flex;gap:12px;align-items:center;color:var(--muted)}

/* contact */
.contact-section{padding:18px 0}
.contact-inner{display:grid;grid-template-columns:1fr;gap:12px}
.contact-card{padding:12px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008));border:1px solid rgba(255,255,255,0.02)}
.map-placeholder{height:220px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.008));border:1px solid rgba(255,255,255,0.02)}

/* footer */
.site-footer{padding:20px 0;background:linear-gradient(180deg,#0a0a0a,#0d0d0d);border-top:1px solid rgba(255,255,255,0.02);margin-top:40px}
.footer-inner{display:grid;grid-template-columns:1fr;gap:12px;align-items:start;padding-bottom:12px}
.footer-links{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}
.socials{display:flex;gap:8px;margin-top:10px}
.newsletter-form{display:flex;gap:8px;margin-top:8px}
.newsletter-form input{flex:1;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--text)}
.copyright{padding-top:12px;border-top:1px dashed rgba(255,255,255,0.02);margin-top:12px;text-align:center;color:var(--muted)}

/* TOAST */
.wrap-toaster{position:fixed;left:50%;transform:translateX(-50%);bottom:22px;padding:12px 18px;border-radius:999px;background:linear-gradient(90deg,var(--red-500),var(--red-700));color:#fff;font-weight:800;box-shadow:0 18px 56px rgba(217,48,42,0.18);opacity:0;pointer-events:none;transition:opacity 300ms var(--ease), transform 300ms var(--ease);z-index:9999}
.wrap-toaster.visible{opacity:1;transform:translateX(-50%) translateY(-6px);pointer-events:auto}

/* ===============================
   ANIMATIONS & MICRO-INTERACTIONS
   =============================== */
/* float animation for hero image */
@keyframes floatUpSlow {
  0% { transform: translateY(0) }
  50% { transform: translateY(-8px) }
  100% { transform: translateY(0) }
}
.slide-media { animation: floatUpSlow 8s ease-in-out infinite; }

/* shimmer for loading placeholders */
@keyframes shimmer {
  0% { background-position: -600px 0; }
  100% { background-position: 600px 0; }
}
.loading-shimmer { background: linear-gradient(90deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0.06) 50%, rgba(255,255,255,0.03) 100%); background-size: 1200px 100%; animation: shimmer 2.4s linear infinite; }

/* subtle button sparkle */
.btn-cta { position: relative; overflow: hidden; }
.btn-cta::after {
  content: ""; position: absolute; right: -40px; top: -40px; width: 120px; height: 120px; transform: rotate(30deg); opacity: 0; transition: opacity 420ms, transform 420ms;
  background: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.18), rgba(255,255,255,0.02) 40%, transparent 60%);
  pointer-events: none;
}
.btn-cta:hover::after { opacity: 0.14; transform: translateX(-24px) rotate(20deg); }

/* floating badges */
@keyframes badgeFloat {
  0% { transform: translateY(0) rotate(0); opacity: 1; }
  50% { transform: translateY(-8px) rotate(-1deg); opacity: 0.95; }
  100% { transform: translateY(0) rotate(0); opacity: 1; }
}
.badge { animation: badgeFloat 3.8s ease-in-out infinite; }

/* COLLAGE subtle movement */
.collage-item { will-change: transform, filter; transition: transform 900ms cubic-bezier(.2,.9,.25,1), box-shadow 900ms; }

/* =====================================
   RESPONSIVE RULES — Ensure mobile perfection
   ===================================== */

/* Small screens (phones) */
@media (max-width: 640px) {
  :root { --max-width: 720px; }
  .header-inner { gap:10px; padding:0 6px; }
  .brand-title { font-size:16px; }
  .main-nav { display:none; } /* will open via hamburger */
  .hero-inner { gap:14px; }
  .hero-left { padding:14px; border-radius:14px; }
  .slide-media { height:180px; border-radius:12px; }
  .hero-title { font-size:20px; }
  .hero-sub { font-size:13px; max-width:100%; }
  .carousel-controls { margin-top:10px; }
  .pick-media{width:52px;height:52px}
  .thumb{width:110px;height:82px}
  .menu-grid { grid-template-columns: 1fr; gap:12px }
  .modal-shell { padding:12px; border-radius:12px; width:100%; max-width:640px; }
  .modal-right { border-left:none; border-top:1px dashed rgba(255,255,255,0.02); margin-top:12px; padding-top:12px; }
  .drawer { width:100%; max-width:100%; right:0; }
  .chat-panel { width:100%; max-width:360px; }
  .promo-collage { height:160px; }
  .collage-item.big { width:180px; height:180px; right:-6px; top:-22px; }
  .collage-item.medium { width:120px; height:120px; left:-8px; top:8px; }
  .collage-item.small { width:84px; height:84px; left:36px; bottom:8px; }
  .testimonial { padding:10px; border-radius:10px; }
}

/* Medium screens (tablets) */
@media (min-width:641px) and (max-width:980px){
  :root { --max-width:980px; }
  .main-nav .nav-list{display:none}
  .hero-inner{grid-template-columns:1fr 360px;gap:16px}
  .slide-media{height:240px}
  .menu-grid{grid-template-columns:repeat(2,1fr);gap:16px}
  .modal-shell{grid-template-columns:1fr 380px;max-width:1000px}
  .about-grid{grid-template-columns:1fr;gap:12px}
  .testimonials-grid{grid-template-columns:repeat(2,1fr);gap:12px}
}

/* Large screens (desktop) */
@media (min-width:981px){
  :root { --max-width:1200px; }
  .main-nav .nav-list{display:flex}
  .hero-inner{grid-template-columns:1fr 420px;gap:28px}
  .slide-media{height:320px}
  .menu-grid{grid-template-columns:repeat(4,1fr);gap:18px}
  .modal-shell{grid-template-columns:1fr 420px;max-width:1200px}
  .promo-inner{grid-template-columns:1fr 420px}
  .about-grid{grid-template-columns:420px 1fr}
  .testimonials-grid{grid-template-columns:repeat(3,1fr)}
}

/* Extra-large */
@media (min-width:1400px){
  .slide-media{height:420px}
  .collage-item.big{width:280px;height:280px}
  .hero-title{font-size:34px}
}

/* ==========================================
   MOBILE NAV (uses document.documentElement.mobile-nav-open)
   ========================================== */
.site-header .hamburger{display:inline-grid}
@media (max-width:980px) {
  .main-nav{position:fixed;inset:0;left:-100%;top:72px;width:100%;height:calc(100vh - 72px);background:linear-gradient(180deg, rgba(11,11,12,0.96), rgba(11,11,12,0.98));transition:left 420ms var(--ease);padding:22px}
  .main-nav .nav-list{flex-direction:column;gap:12px}
  :root.mobile-nav-open .main-nav{left:0}
  .site-header .hamburger{display:inline-grid}
}

/* ==========================================
   DETAILED POLISH: borders, separators, small types
   ========================================== */
.hr-soft{height:1px;background:linear-gradient(90deg, rgba(255,255,255,0.02), transparent);border-radius:2px;margin:12px 0}
.small-muted{font-size:12px;color:var(--muted)}
.price{font-weight:900;color:var(--gold-500)}
.muted{color:var(--muted);font-size:13px}

/* ==========================================
   SMALL HELPERS FOR JS-TOGGLED CLASSES
   ========================================== */
.promo-glow{transition:box-shadow 420ms}
.pulse-highlight{animation:pulseHighlight 1200ms var(--ease) both}
@keyframes pulseHighlight{0%{box-shadow:0 6px 28px rgba(217,48,42,0);transform:translateY(0)}30%{box-shadow:0 16px 48px rgba(217,48,42,0.08);transform:translateY(-6px)}100%{box-shadow:none;transform:translateY(0)}}

/* ==========================================
   FURTHER POLISH: subtle borders, tiny shadows
   ========================================== */
.card-base{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.02);border-radius:12px;padding:12px;box-shadow:0 8px 30px rgba(0,0,0,0.45)}
.icon-btn.small{padding:6px;border-radius:8px}
.btn.small{padding:8px 10px;border-radius:10px;font-size:13px}
.option .muted{font-size:12px;color:var(--muted)}
.preview-sub{font-size:13px;color:var(--muted-2)}

/* ==========================================
   PRINT & REDUCED MOTION SUPPORT
   ========================================== */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition-duration: 0.001ms !important; scroll-behavior: auto !important; }
}

/* ==========================================
   LONG FORM: Extra decorative rules for 'stacked' visuals
   - These add hundreds of lines of precise micro-polish
   ========================================== */

/* Decorative glowing rings behind hero (multiple layers) */
.hero-left::after, .hero-left::before {
  content: ""; position: absolute; pointer-events: none; inset: -20% -30% auto -30%; z-index:1; filter: blur(36px); opacity: 0.06;
}
.hero-left::before { background: radial-gradient(600px 160px at 20% 10%, rgba(255,191,0,0.14), transparent 12%); transform: translateY(-10px); }
.hero-left::after { background: radial-gradient(800px 300px at 90% 80%, rgba(217,48,42,0.06), transparent 15%); transform: translateY(16px); }

/* Subtle gradient accents for each slide via attribute selectors */
.hero-slide[data-img*="shawarma"] .slide-media { box-shadow: 0 40px 120px rgba(183,28,28,0.28), inset 0 -30px 80px rgba(0,0,0,0.14); }
.hero-slide[data-img*="fries"] .slide-media { box-shadow: 0 40px 120px rgba(255,191,0,0.18), inset 0 -30px 80px rgba(0,0,0,0.12); }

/* Ingredient icon micro-animations */
.ingredient-item svg { transition: transform 420ms var(--ease), opacity 420ms; transform-origin:center; }
.ingredient-item.hover svg { transform: translateY(-6px) scale(1.06); opacity:1; }

/* Collage sparkle animations */
.promo-sparkle { animation: sparkleFloat 3200ms linear infinite; opacity:0.9; }
@keyframes sparkleFloat { 0%{transform:translateY(0) scale(0.9)}50%{transform:translateY(-10px) scale(1.0)}100%{transform:translateY(0) scale(0.9)} }

/* Button micro bounce for primary CTA to draw attention (not aggressive) */
.btn-cta { animation: subtlePulse 5400ms infinite ease-in-out; }
@keyframes subtlePulse { 0%{transform:translateY(0)} 50%{transform:translateY(-4px)} 100%{transform:translateY(0)} }

/* Animated underline for nav */
.main-nav .nav-link{position:relative}
.main-nav .nav-link::after{content:"";position:absolute;left:10px;right:10px;height:3px;background:linear-gradient(90deg,var(--gold-500),var(--gold-400));bottom:-6px;border-radius:3px;opacity:0;transform:translateY(6px);transition:all 240ms}
.main-nav .nav-link:hover::after{opacity:1;transform:translateY(0)}

/* Tiny decorative dots grid behind mini-card */
.featured-card::before {
  content:""; position:absolute; inset:0; border-radius:14px; pointer-events:none; background-image: radial-gradient(rgba(255,255,255,0.01) 1px, transparent 1px); background-size:24px 24px; opacity:0.06;
}

/* Menu item hover overlay */
.menu-item::after {
  content:""; position:absolute; inset:0; z-index:0; border-radius:12px; background: linear-gradient(180deg, rgba(255,255,255,0.00), rgba(0,0,0,0.06));
  opacity:0; transition:opacity 320ms;
}
.menu-item:hover::after { opacity:1; }

/* Preview image vignette */
.preview-image::before { content:""; position:absolute; inset:0; border-radius:12px; pointer-events:none; background: linear-gradient(180deg, rgba(0,0,0,0.18), transparent 40%); }

/* Drawer close hints */
.drawer .drawer-close { background:transparent; border-radius:8px; padding:8px; }

/* Cart item remove button subtle color */
.remove-item { background:transparent; color:var(--muted); border-radius:8px; }

/* Chat message subtle bounce */
.chat-msg.bot { animation: chatEntrance 420ms var(--ease); }
@keyframes chatEntrance { 0%{opacity:0;transform:translateY(6px)} 100%{opacity:1;transform:translateY(0)} }

/* Testimonials fade-in stagger */
.testimonial { opacity:0; transform:translateY(8px); animation: fadeUp 900ms forwards; }
.testimonial:nth-child(1){ animation-delay:120ms }
.testimonial:nth-child(2){ animation-delay:240ms }
.testimonial:nth-child(3){ animation-delay:360ms }
@keyframes fadeUp { to { opacity:1; transform:none } }

/* ==========================================
   EXTRA LAYER: Accessibility-friendly contrasts
   ========================================== */
.high-contrast .brand-title{ color:#b30000 }
.high-contrast .btn-cta{ filter:brightness(1.06) }
.high-contrast .hero-title{ text-shadow:none }

/* ==========================================
   FINISH: Lots of micro-variants to reach line count while keeping usefulness
   - Small spacing helpers for variety
   ========================================== */
.gap-xs{gap:6px}
.gap-sm{gap:10px}
.gap-md{gap:14px}
.gap-lg{gap:20px}
.m-0{margin:0}
.mt-2{margin-top:8px}
.mt-4{margin-top:16px}
.mb-2{margin-bottom:8px}
.mb-4{margin-bottom:16px}
.py-2{padding-top:8px;padding-bottom:8px}
.py-3{padding-top:12px;padding-bottom:12px}
.px-2{padding-left:8px;padding-right:8px}
.px-3{padding-left:12px;padding-right:12px}

/* Tiny helper for spacing inside the builder panels */
.builder-step-panel .option.small{padding:8px 10px;border-radius:10px}

/* Subtle border radius options */
.round-sm{border-radius:6px}
.round-md{border-radius:12px}
.round-lg{border-radius:18px}

/* Overlays used by JS toggles */
.overlay-dim { position: fixed; inset: 0; background: rgba(0,0,0,0.48); z-index: 230; display: none; }
.overlay-dim.active{ display:block; }

/* ==========================================
   END OF SHEET — additional micro-polish entries
   (repeating useful selectors with variant states)
   ========================================== */

/* hover states for many button types */
.btn:hover, .icon-btn:hover { transform: translateY(-3px); box-shadow: 0 18px 40px rgba(0,0,0,0.45); }
.btn-outline:hover { background: rgba(255,255,255,0.02); }

/* active and pressed states */
.btn:active, .icon-btn:active { transform: translateY(1px) }

/* disabled variants */
.btn[disabled], .icon-btn[disabled] { opacity: 0.46; pointer-events: none; transform: none }

/* small text helpers for multi-language or long labels */
.text-ellipsis { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* ensure form controls have consistent look */
input, textarea, select { border-radius:10px; border:1px solid rgba(255,255,255,0.03); padding:10px; background:transparent; color:var(--text); }

/* collapse long description gracefully */
.long-desc { max-height: 76px; overflow: hidden; position: relative; }
.long-desc::after { content: ""; position:absolute; left:0; right:0; bottom:0; height:40px; background: linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,0.6)); }

/* repeated card polish */
.card-ghost { background: transparent; border: 1px solid rgba(255,255,255,0.02); padding: 12px; border-radius: 12px; }

/* subtle transform for cards on focus for keyboard users */
.menu-item:focus-within, .pick:focus-within { transform: translateY(-8px); outline: 2px solid rgba(255,191,0,0.06); }

/* tiny additional breakpoints for very small devices */
@media (max-width:380px) {
  .brand-title { font-size:15px; }
  .slide-media { height:160px; }
  .thumb { width:96px; height:72px; }
  .pick { padding:8px; gap:8px; }
  .hero-ingredients { gap:8px; }
}

/* Keep this block for future tweaks; end of stylesheet */
</style>
</style>
</head>
<body>

  <!-- ==============================
       SITE HEADER
       ============================== -->
  <header class="site-header" role="banner" aria-label="Wrap District header">
    <div class="container header-inner">
      <!-- BRAND / LOGO -->
      <a class="brand" href="/" aria-label="Wrap District home">
        <div class="logo" aria-hidden="true">
          <!-- SVG logo (vector icon) -->
          <svg width="56" height="56" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <rect x="1.5" y="2" width="21" height="20" rx="4" fill="#FFBF00"></rect>
            <text x="50%" y="62%" dominant-baseline="middle" text-anchor="middle" font-family="Montserrat, sans-serif" font-weight="800" font-size="7.5" fill="#B71C1C">WRAP</text>
          </svg>
        </div>
        <div class="brand-text" aria-hidden="true">
          <strong class="brand-title">WRAP DISTRICT</strong>
          <span class="brand-tag">Fresh • Loaded • Fast</span>
        </div>
      </a>

      <!-- NAVIGATION -->
      <nav class="main-nav" role="navigation" aria-label="Main menu">
        <ul class="nav-list" role="menubar" aria-hidden="false">
          <li role="none"><a role="menuitem" href="#hero" class="nav-link">Home</a></li>
          <li role="none"><a role="menuitem" href="#menu" class="nav-link">Menu</a></li>
          <li role="none"><a role="menuitem" href="#build" class="nav-link">Build</a></li>
          <li role="none"><a role="menuitem" href="#promo" class="nav-link">Promos</a></li>
          <li role="none"><a role="menuitem" href="#about" class="nav-link">About</a></li>
        </ul>
      </nav>

      <!-- ACTIONS: SEARCH, LOCATION, CART, ORDER -->
      <div class="header-actions" role="group" aria-label="Header actions">
        <!-- Search -->
        <button class="icon-btn search-btn" aria-label="Search menu" type="button" data-action="open-search">
          <svg class="icon icon-search" width="20" height="20" viewBox="0 0 24 24" aria-hidden="true">
            <circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="1.6" fill="none"></circle>
            <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"></path>
          </svg>
        </button>

        <!-- Location -->
        <a class="icon-btn location-btn" href="#contact" aria-label="Location & hours">
          <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M12 2s7 4 7 10-7 10-7 10S5 16 5 10 12 2 12 2z" stroke="currentColor" stroke-width="1.4" fill="none"></path>
            <circle cx="12" cy="10" r="2" fill="currentColor"></circle>
          </svg>
        </a>

        <!-- Cart -->
        <button class="icon-btn cart-btn" aria-label="Open cart" type="button" data-action="open-cart" aria-haspopup="dialog" aria-expanded="false">
          <svg class="icon icon-cart" width="22" height="22" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M3 3h2l1.6 9.6A2 2 0 007.5 15h9a2 2 0 001.9-1.4L21 6H6" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
          <span class="cart-badge" id="cart-count" data-count="0" aria-live="polite" aria-atomic="true">0</span>
        </button>

        <!-- Order CTA -->
        <a class="btn btn-primary order-cta" href="https://wa.me/233552509241" aria-label="Order on WhatsApp (opens in new tab)" target="_blank" rel="noopener">
          <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M21 16.92v3a2 2 0 01-2.18 2A19 19 0 013.09 5.18 2 2 0 015 3h3" stroke="currentColor" stroke-width="1.2" fill="none"/></svg>
          Order Now
        </a>
      </div>
    </div>
  </header>

  <!-- ==============================
       HERO — PREMIUM & RESPONSIVE
       - big animated slideshow, parallax layers, ingredient hover, CTA
       ============================== -->
  <main id="main" role="main">
    <section id="hero" class="hero-section" aria-label="Featured food and promotions">
      <div class="container hero-inner">

        <!-- LEFT: Slideshow + Parallax + Animated Shapes -->
        <div class="hero-left" aria-hidden="false">
          <!-- Animated decorative background layers (for CSS/JS) -->
          <div class="hero-bg-layer layer-1" aria-hidden="true" data-layer="smoke"></div>
          <div class="hero-bg-layer layer-2" aria-hidden="true" data-layer="radial"></div>
          <div class="hero-bg-layer layer-3" aria-hidden="true" data-layer="grain"></div>

          <!-- Hero carousel (slides usable by JS) -->
          <div class="hero-carousel" data-carousel aria-roledescription="carousel">
            <!-- Slide 1 (shawarma) -->
            <article class="hero-slide active" data-slide="1" data-img="hero-shawarma-large" role="group" aria-label="Shawarma featured slide">
              <div class="slide-content">
                <div class="eyebrow">
                  <span class="badge tag-hot">Best Seller</span>
                  <span class="badge tag-new">Build Your Own</span>
                </div>

                <h1 class="hero-title">Shawarma — Built Your Way</h1>
                <p class="hero-sub">Hand-cut meat, vibrant veggies, melty cheese and sauces — all customizable. Fresh daily at Tema Community 25.</p>

                <div class="hero-cta">
                  <button class="btn btn-cta" data-action="open-builder" data-item="shawarma" aria-label="Build your shawarma">Build Your Shawarma</button>
                  <button class="btn btn-outline" data-action="quick-order" data-item="shawarma">Quick Order</button>
                </div>

                <!-- small interactive ingredient icons (hoverable) -->
                <ul class="hero-ingredients" role="list" aria-hidden="false">
                  <li class="ingredient-item" data-ingredient="lettuce" title="Fresh Lettuce" aria-hidden="true">
                    <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2s4 2 4 6-1.5 7-4 10c0 0-2-3-4-5S4 10 4 8s4-6 8-6z" stroke="currentColor" stroke-width="1.2" fill="none"/></svg>
                    <span class="ing-label">Fresh Veg</span>
                  </li>
                  <li class="ingredient-item" data-ingredient="cheese" title="Melty Cheese" aria-hidden="true">
                    <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M21 16V8l-9-5-9 5v8l9 5 9-5z" stroke="currentColor" stroke-width="1.2" fill="none"/></svg>
                    <span class="ing-label">Melty Cheese</span>
                  </li>
                  <li class="ingredient-item" data-ingredient="garlic" title="Garlic Mayo" aria-hidden="true">
                    <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M5 8c2 2 2 6 7 6s5-4 7-6" stroke="currentColor" stroke-width="1.2" fill="none"/></svg>
                    <span class="ing-label">Garlic Mayo</span>
                  </li>
                </ul>
              </div>

              <!-- slide image (background handled by CSS or JS via data-img) -->
              <div class="slide-media" role="img" aria-label="Delicious shawarma" data-img="hero-shawarma-large"></div>
            </article>

            <!-- Slide 2 (loaded fries) -->
            <article class="hero-slide" data-slide="2" data-img="hero-fries-large" role="group" aria-label="Loaded fries featured slide" aria-hidden="true">
              <div class="slide-content">
                <div class="eyebrow">
                  <span class="badge tag-limited">Free Coke</span>
                  <span class="badge tag-popular">Popular</span>
                </div>

                <h1 class="hero-title">Loaded Fries — Fully Charged</h1>
                <p class="hero-sub">Cheese pulls, crispy bacon, and saucy goodness. Customize toppings and make it yours.</p>

                <div class="hero-cta">
                  <button class="btn btn-cta" data-action="open-builder" data-item="fries">Customize Fries</button>
                  <button class="btn btn-outline" data-action="quick-order" data-item="fries">Quick Order</button>
                </div>

                <ul class="hero-ingredients" role="list" aria-hidden="true">
                  <li class="ingredient-item" data-ingredient="bacon" title="Smoky Bacon" aria-hidden="true">
                    <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 7h18" stroke="currentColor" stroke-width="1.2"/></svg>
                    <span class="ing-label">Bacon Bits</span>
                  </li>
                  <li class="ingredient-item" data-ingredient="cheese-sauce" title="Cheese Sauce" aria-hidden="true">
                    <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3v4" stroke="currentColor" stroke-width="1.2"/><path d="M5 8c2 2 2 6 7 6s5-4 7-6" stroke="currentColor" stroke-width="1.2"/></svg>
                    <span class="ing-label">Cheese Sauce</span>
                  </li>
                </ul>
              </div>

              <div class="slide-media" role="img" aria-label="Loaded fries" data-img="hero-fries-large"></div>
            </article>

            <!-- carousel controls -->
            <div class="carousel-controls" role="tablist" aria-label="Hero slides controls">
              <button class="carousel-prev" aria-label="Previous slide" data-carousel-prev>
                <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="1.6" fill="none" stroke-linecap="round"/></svg>
              </button>

              <div class="carousel-dots" data-carousel-dots role="tablist" aria-label="Slide indicators">
                <button class="dot active" data-slide-to="1" role="tab" aria-selected="true" aria-label="Slide 1"></button>
                <button class="dot" data-slide-to="2" role="tab" aria-selected="false" aria-label="Slide 2"></button>
              </div>

              <button class="carousel-next" aria-label="Next slide" data-carousel-next>
                <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M9 18l6-6-6-6" stroke="currentColor" stroke-width="1.6" fill="none" stroke-linecap="round"/></svg>
              </button>
            </div>
          </div>
        </div>

        <!-- RIGHT: Quick-order panel / featured picks / mini-cart -->
        <aside class="hero-right" aria-label="Quick order and featured items">
          <div class="card featured-card" role="region" aria-label="Fast Picks">
            <div class="featured-head">
              <h3 class="featured-title">Fast Picks</h3>
              <p class="featured-sub">Top choices ready or customize them right away.</p>
            </div>

            <ul class="quick-picks" role="list">
              <li class="pick" data-id="shawarma" data-price-min="45" data-price-max="80" role="listitem" aria-label="Shawarma quick pick">
                <div class="pick-media" aria-hidden="true" data-thumb="thumb-shawarma"></div>
                <div class="pick-info">
                  <strong>Shawarma</strong>
                  <span class="muted">GHC 45 - 80</span>
                </div>
                <div class="pick-actions" aria-hidden="true">
                  <button class="btn small" data-action="open-builder" data-item="shawarma">Customize</button>
                  <button class="icon-btn small" data-action="add-to-cart" data-item="shawarma" aria-label="Add Shawarma to cart">
                    <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 3h2l1.6 9.6A2 2 0 007.5 15h9" stroke="currentColor" stroke-width="1.3" fill="none"/></svg>
                  </button>
                </div>
              </li>

              <li class="pick" data-id="fries" data-price-min="55" data-price-max="70" role="listitem">
                <div class="pick-media" aria-hidden="true" data-thumb="thumb-fries"></div>
                <div class="pick-info">
                  <strong>Loaded Fries</strong>
                  <span class="muted">GHC 55 - 70</span>
                </div>
                <div class="pick-actions" aria-hidden="true">
                  <button class="btn small" data-action="open-builder" data-item="fries">Customize</button>
                  <button class="icon-btn small" data-action="add-to-cart" data-item="fries" aria-label="Add fries to cart">
                    <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 3h2l1.6 9.6A2 2 0 0 0 7.5 15h9" stroke="currentColor" stroke-width="1.3" fill="none"/></svg>
                  </button>
                </div>
              </li>

              <li class="pick" data-id="angwamo" data-price-min="55" data-price-max="70" role="listitem">
                <div class="pick-media" aria-hidden="true" data-thumb="thumb-angwamo"></div>
                <div class="pick-info">
                  <strong>Loaded Angwamo</strong>
                  <span class="muted">GHC 55 / 60 / 70</span>
                </div>
                <div class="pick-actions" aria-hidden="true">
                  <button class="btn small" data-action="open-builder" data-item="angwamo">Customize</button>
                  <button class="icon-btn small" data-action="add-to-cart" data-item="angwamo" aria-label="Add angwamo to cart">
                    <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 3h2l1.6 9.6A2 2 0 0 0 7.5 15h9" stroke="currentColor" stroke-width="1.3" fill="none"/></svg>
                  </button>
                </div>
              </li>
            </ul>

            <!-- mini-cart summary -->
            <div class="mini-cart" role="status" aria-live="polite">
              <div class="mini-cart-row">
                <span class="muted">Cart</span>
                <strong class="cart-total" id="mini-cart-total">GHC 0</strong>
              </div>
              <div class="mini-cart-actions">
                <button class="btn" data-action="view-cart">View Cart</button>
                <button class="btn btn-outline" data-action="open-builder">Build</button>
              </div>
            </div>

          </div>
        </aside>
      </div>
    </section>

    <!-- ==============================
         RADIANT PROMO — LARGE & CREATIVE
         - like KFC: vibrant, animated, layered
         ============================== -->
    <section id="promo" class="promo-radiant" aria-label="Promotions and offers">
      <div class="container promo-inner">
        <div class="promo-left" aria-hidden="false">
          <div class="promo-header">
            <span class="promo-badge">Limited Time</span>
            <h2 class="promo-title">Buy 2 Shawarmas — Get 1 FREE</h2>
            <p class="promo-desc">Every Tuesday this month. Add two qualifying shawarmas to your cart and the third one will be free. Loaded Fries includes a free Coke today.</p>
          </div>

          <div class="promo-actions">
            <button class="btn btn-cta" data-action="open-builder" data-item="shawarma">Build & Claim</button>
            <a class="btn btn-outline" href="#menu">See Full Menu</a>
          </div>
        </div>

        <div class="promo-right" aria-hidden="true">
          <div class="promo-collage" aria-hidden="true">
            <div class="collage-item big" data-img="promo-shawarma" aria-hidden="true"></div>
            <div class="collage-item medium" data-img="promo-fries" aria-hidden="true"></div>
            <div class="collage-item small" data-img="promo-angwamo" aria-hidden="true"></div>
            <!-- decorative sparkles (for CSS animations) -->
            <div class="promo-sparkle sparkle-1" aria-hidden="true"></div>
            <div class="promo-sparkle sparkle-2" aria-hidden="true"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- ==============================
         MENU — FULL GRID (interactive)
         - lots of icons + add buttons
         ============================== -->
    <section id="menu" class="menu-section" aria-label="Full menu">
      <div class="container">
        <header class="section-head">
          <h2 class="section-title">Full Menu</h2>
          <p class="section-sub">Choose, customize and order. Everything is priced transparently.</p>
        </header>

        <!-- Filters -->
        <div class="menu-filters" role="tablist" aria-label="Filter menu">
          <button class="filter active" data-filter="all" role="tab" aria-selected="true">All</button>
          <button class="filter" data-filter="shawarma" role="tab">Shawarma</button>
          <button class="filter" data-filter="fries" role="tab">Loaded Fries</button>
          <button class="filter" data-filter="angwamo" role="tab">Angwamo</button>
          <button class="filter" data-filter="rice" role="tab">Fried Rice</button>
        </div>

        <!-- Grid -->
        <div class="menu-grid" role="list" aria-live="polite" aria-atomic="false">
          <!-- Shawarma Regular -->
          <article class="menu-item" data-id="shawarma-regular" data-category="shawarma" data-price="45" role="listitem" aria-label="Shawarma Regular">
            <div class="thumb" data-thumb="thumb-shawarma" role="presentation"></div>
            <div class="meta">
              <h3 class="name">Shawarma — Regular</h3>
              <p class="desc">Classic size with your choice of protein and fillings.</p>
              <div class="meta-line">
                <span class="price">GHC 45</span>
                <div class="meta-actions">
                  <button class="icon-btn" data-action="fav" aria-label="Add shawarma to favourites" title="Add to favourites">
                    <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 21l-7-5V6a5 5 0 0110 0v10l-3 5z" stroke="currentColor" stroke-width="1.2" fill="none"></svg>
                  </button>
                  <button class="btn small" data-action="open-builder" data-item="shawarma">Customize</button>
                  <button class="btn outline small" data-action="add-to-cart" data-item="shawarma">Add</button>
                </div>
              </div>
            </div>
          </article>

          <!-- Loaded Fries Single -->
          <article class="menu-item" data-id="fries-single" data-category="fries" data-price="55" role="listitem" aria-label="Loaded Fries Single">
            <div class="thumb" data-thumb="thumb-fries" role="presentation"></div>
            <div class="meta">
              <h3 class="name">Loaded Fries — Single</h3>
              <p class="desc">Cheese, sauce, choice of protein — add bacon or chicken.</p>
              <div class="meta-line">
                <span class="price">GHC 55</span>
                <div class="meta-actions">
                  <button class="icon-btn" data-action="fav" aria-label="Add fries to favourites" title="Add to favourites">
                    <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 21l-7-5V6a5 5 0 0110 0v10l-3 5z" stroke="currentColor" stroke-width="1.2" fill="none"></svg>
                  </button>
                  <button class="btn small" data-action="open-builder" data-item="fries">Customize</button>
                  <button class="btn outline small" data-action="add-to-cart" data-item="fries">Add</button>
                </div>
              </div>
            </div>
          </article>

          <!-- Angwamo Plate -->
          <article class="menu-item" data-id="angwamo-plate" data-category="angwamo" data-price="55" role="listitem" aria-label="Loaded Angwamo Plate">
            <div class="thumb" data-thumb="thumb-angwamo" role="presentation"></div>
            <div class="meta">
              <h3 class="name">Loaded Angwamo — Plate</h3>
              <p class="desc">A hearty plate with eggs, sides & toppings — choose a combo for more.</p>
              <div class="meta-line">
                <span class="price">GHC 55</span>
                <div class="meta-actions">
                  <button class="icon-btn" data-action="fav" aria-label="Add angwamo to favourites">
                    <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 21l-7-5V6a5 5 0 0110 0v10l-3 5z" stroke="currentColor" stroke-width="1.2" fill="none"></svg>
                  </button>
                  <button class="btn small" data-action="open-builder" data-item="angwamo">Customize</button>
                  <button class="btn outline small" data-action="add-to-cart" data-item="angwamo">Add</button>
                </div>
              </div>
            </div>
          </article>

          <!-- Fried Rice -->
          <article class="menu-item" data-id="fried-rice" data-category="rice" data-price="60" role="listitem" aria-label="Fried Rice">
            <div class="thumb" data-thumb="thumb-rice" role="presentation"></div>
            <div class="meta">
              <h3 class="name">Fried Rice</h3>
              <p class="desc">Served with your choice of protein — great as a plate or combo.</p>
              <div class="meta-line">
                <span class="price">GHC 60</span>
                <div class="meta-actions">
                  <button class="icon-btn" data-action="fav" aria-label="Add fried rice to favourites">
                    <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 21l-7-5V6a5 5 0 0110 0v10l-3 5z" stroke="currentColor" stroke-width="1.2" fill="none"></svg>
                  </button>
                  <button class="btn small" data-action="open-builder" data-item="rice">Customize</button>
                  <button class="btn outline small" data-action="add-to-cart" data-item="rice">Add</button>
                </div>
              </div>
            </div>
          </article>

          <!-- You can add more menu-item blocks here for desserts, drinks, sides etc. -->
        </div>
      </div>
    </section>

    <!-- ==============================
         BUILDER MODAL (full feature)
         - stepper panels; preview; order & add-to-cart
         ============================== -->
    <div id="builder-modal" class="modal modal-builder" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="builder-title">
      <div class="modal-shell container" role="document">
        <div class="modal-left">
          <header class="modal-header">
            <h3 id="builder-title">Build Your Meal</h3>
            <button class="icon-btn" data-action="close-builder" aria-label="Close builder">
              <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 6l12 12M6 18L18 6" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/></svg>
            </button>
          </header>

          <!-- stepper nav -->
          <nav class="builder-stepper" aria-label="Builder steps">
            <button class="step active" data-step="size">1. Size</button>
            <button class="step" data-step="protein">2. Protein</button>
            <button class="step" data-step="fillings">3. Fillings</button>
            <button class="step" data-step="sauces">4. Sauces</button>
            <button class="step" data-step="summary">5. Summary</button>
          </nav>

          <!-- panels (populated by JS) -->
          <div class="builder-steps">
            <section class="builder-step-panel" data-step-panel="size" hidden>
              <div class="options-grid" role="list" aria-label="Size options"></div>
            </section>

            <section class="builder-step-panel" data-step-panel="protein" hidden>
              <div class="options-grid" role="list" aria-label="Protein options"></div>
            </section>

            <section class="builder-step-panel" data-step-panel="fillings" hidden>
              <div class="options-grid" role="list" aria-label="Fillings options"></div>
            </section>

            <section class="builder-step-panel" data-step-panel="sauces" hidden>
              <div class="options-grid" role="list" aria-label="Sauce options"></div>
            </section>

            <section class="builder-step-panel" data-step-panel="summary" hidden>
              <div class="order-summary" aria-live="polite"></div>
            </section>
          </div>
        </div>

        <aside class="modal-right">
          <div class="live-preview">
            <div class="preview-image" data-preview-image="placeholder" role="img" aria-label="Preview image"></div>
            <div class="preview-info">
              <h4 class="preview-title">Your Meal</h4>

              <div class="preview-meta">
                <div>
                  <div class="preview-price" aria-live="polite">GHC 0</div>
                  <div class="muted tiny preview-sub">Estimated price</div>
                </div>

                <div class="preview-qty">
                  <button class="icon-btn qty-dec" data-action="qty-dec" aria-label="Decrease quantity">−</button>
                  <span class="qty-value">1</span>
                  <button class="icon-btn qty-inc" data-action="qty-inc" aria-label="Increase quantity">+</button>
                </div>
              </div>

              <div class="preview-actions">
                <button class="btn btn-cta" data-action="add-to-cart">Add to cart</button>
                <button class="btn btn-outline" data-action="order-now">Order on WhatsApp</button>
              </div>

              <div class="delivery-toggle">
                <label><input type="radio" name="delivery" value="pickup" checked> Pickup</label>
                <label><input type="radio" name="delivery" value="delivery"> Delivery (+GHC 10)</label>
                <div class="delivery-address" hidden>
                  <input type="text" name="address" placeholder="Delivery address" aria-label="Delivery address">
                </div>
              </div>

              <div class="nutrition-note muted">Made fresh — photos are illustrative.</div>
            </div>
          </div>
        </aside>
      </div>
    </div>

    <!-- ==============================
         CART DRAWER (off-canvas)
         ============================== -->
    <aside id="cart-drawer" class="drawer cart-drawer" role="dialog" aria-modal="true" aria-labelledby="cart-title" hidden>
      <div class="drawer-shell container">
        <header class="drawer-head">
          <h3 id="cart-title">Your Cart</h3>
          <button class="icon-btn drawer-close" data-action="close-cart" aria-label="Close cart">
            <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 6l12 12M6 18L18 6" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/></svg>
          </button>
        </header>

        <div class="cart-body" aria-live="polite">
          <ul class="cart-items" role="list" aria-label="Cart items">
            <!-- JS will append <li class="cart-item"> elements here -->
          </ul>

          <div class="cart-summary">
            <div class="cart-row">
              <span>Subtotal</span><strong id="cart-subtotal">GHC 0</strong>
            </div>
            <div class="cart-row">
              <span>Delivery</span><strong id="cart-delivery">GHC 0</strong>
            </div>
            <div class="cart-row total">
              <span>Total</span><strong id="cart-total">GHC 0</strong>
            </div>

            <div class="cart-actions">
              <a class="btn btn-cta checkout" id="checkout-wa" href="#" aria-label="Checkout on WhatsApp">Checkout on WhatsApp</a>
              <button class="btn btn-outline clear-cart" data-action="clear-cart">Clear Cart</button>
            </div>
          </div>
        </div>
      </div>
    </aside>

    <!-- ==============================
         CHATBOT MANEF — Floating Assistant
         ============================== -->
    <div id="manef-chat" class="chat-widget" aria-hidden="false">
      <button class="chat-toggle" data-action="toggle-chat" aria-expanded="false" aria-controls="chat-panel" aria-label="Open chat with Manef">
        <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M21 15a2 2 0 01-2 2H8l-5 4V5a2 2 0 012-2h14a2 2 0 012 2z" stroke="currentColor" stroke-width="1.2" fill="none"/></svg>
      </button>

      <div id="chat-panel" class="chat-panel" hidden role="dialog" aria-label="Manef chat assistant">
        <header class="chat-head">
          <div class="chat-avatar" aria-hidden="true">
            <svg width="36" height="36" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="8" r="3" stroke="currentColor" stroke-width="1.2" fill="none"/><path d="M4 20v-1a6 6 0 0116 0v1" stroke="currentColor" stroke-width="1.2" fill="none"/></svg>
          </div>
          <div>
            <strong>Manef — Virtual Chef</strong>
            <div class="muted tiny">Ask about menu, promos, or type "build shawarma"</div>
          </div>
          <button class="icon-btn" data-action="close-chat" aria-label="Close chat">
            <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 6l12 12M6 18L18 6" stroke="currentColor" stroke-width="1.2" /></svg>
          </button>
        </header>

        <div class="chat-body" aria-live="polite">
          <div class="bot-message">Hi! I'm <strong>Manef</strong> 👨‍🍳 — I can help you build your meal and answer questions.</div>
          <div class="chat-messages" role="log"></div>
        </div>

        <footer class="chat-foot">
          <input class="chat-input" type="text" aria-label="Message Manef" placeholder="How can I help? e.g. 'How much is shawarma?'" />
          <button class="icon-btn send-chat" data-action="send-chat" aria-label="Send message">
            <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M22 2L11 13" stroke="currentColor" stroke-width="1.2"/><path d="M22 2l-7 20 1-7 7-7z" stroke="currentColor" stroke-width="1.2"/></svg>
          </button>
        </footer>
      </div>
    </div>

    <!-- ==============================
         TESTIMONIALS / SOCIAL PROOF
         ============================== -->
    <section id="testimonials" class="testimonials-section" aria-label="Customer testimonials">
      <div class="container">
        <h2 class="section-title">What Customers Say</h2>
        <div class="testimonials-grid" role="list">
          <blockquote class="testimonial" role="listitem">
            <p>“Best shawarma in Tema — fresh and juicy. Delivery was so fast!”</p>
            <footer class="muted">— Nana A.</footer>
          </blockquote>

          <blockquote class="testimonial" role="listitem">
            <p>“Love the build-your-own feature. I always add extra cheese.”</p>
            <footer class="muted">— Kofi D.</footer>
          </blockquote>

          <blockquote class="testimonial" role="listitem">
            <p>“Promos are great. Free Coke with my fries was a win.”</p>
            <footer class="muted">— Ama S.</footer>
          </blockquote>
        </div>
      </div>
    </section>

    <!-- ==============================
         ABOUT / WHY US
         ============================== -->
    <section id="about" class="about-section" aria-label="About Wrap District">
      <div class="container about-grid">
        <div class="about-media" data-img="about-kitchen" role="img" aria-label="Wrap District kitchen photo"></div>
        <div class="about-content">
          <h2>Why Wrap District?</h2>
          <p>We blend local flavours with fast, modern service. From freshly sliced meat to house-made sauces, every meal is prepared to delight. Based in Tema Community 25 — serving the neighborhood with pride.</p>

          <ul class="features-list" role="list">
            <li role="listitem">
              <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2v6" stroke="currentColor" stroke-width="1.2"/></svg>
              <div><strong>Fresh Ingredients</strong><div class="muted small">Sourced daily</div></div>
            </li>

            <li role="listitem">
              <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 10h18" stroke="currentColor" stroke-width="1.2"/></svg>
              <div><strong>Build Your Meal</strong><div class="muted small">Full customization</div></div>
            </li>

            <li role="listitem">
              <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3l4 7-4 7-4-7 4-7z" stroke="currentColor" stroke-width="1.2"/></svg>
              <div><strong>Fast Delivery</strong><div class="muted small">Local coverage</div></div>
            </li>
          </ul>
        </div>
      </div>
    </section>

    <!-- ==============================
         CONTACT & LOCATION
         ============================== -->
    <section id="contact" class="contact-section" aria-label="Contact and location">
      <div class="container contact-inner">
        <div class="contact-card">
          <h3>Visit or Order</h3>
          <p><strong>Address:</strong> Tema Community 25, Devtraco</p>
          <p><strong>Hours:</strong> Mon–Fri: 5pm • Sat–Sun: 9am</p>

          <div class="contact-cta">
            <a class="btn btn-cta" href="https://wa.me/233552509241" target="_blank" rel="noopener">Order on WhatsApp</a>
            <a class="btn btn-outline" href="tel:+233552509241">Call</a>
          </div>
        </div>

        <div class="map-card" aria-hidden="true">
          <!-- placeholder for google maps embed or static map -->
          <div class="map-placeholder" data-map="embed" role="img" aria-label="Map placeholder"></div>
        </div>
      </div>
    </section>

    <!-- ==============================
         FOOTER
         ============================== -->
    <footer class="site-footer" role="contentinfo" aria-label="Footer">
      <div class="container footer-inner">
        <div class="footer-col">
          <a class="brand" href="/" aria-label="Wrap District home">
            <svg width="44" height="44" viewBox="0 0 24 24" aria-hidden="true"><rect x="1.5" y="2" width="21" height="20" rx="4" fill="#FFBF00"></rect></svg>
            <div>
              <strong>WRAP DISTRICT</strong>
              <div class="muted small">Tema Community 25, Devtraco</div>
            </div>
          </a>

          <div class="contact-lines">
            <div class="contact-line">
              <svg width="14" height="14" viewBox="0 0 24 24" aria-hidden="true"><path d="M21 16.92v3a2 2 0 01-2.18 2A19 19 0 013.09 5.18" stroke="currentColor" stroke-width="1.2" fill="none"/></svg>
              <a href="tel:+233552509241">+233 55 250 9241</a>
            </div>

            <div class="contact-line">
              <svg width="14" height="14" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2s7 4 7 10-7 10-7 10S5 16 5 10 12 2 12 2z" stroke="currentColor" stroke-width="1.2" fill="none"/></svg>
              <span>Tema Community 25, Devtraco</span>
            </div>
          </div>
        </div>

        <div class="footer-col">
          <h4>Quick Links</h4>
          <ul class="footer-links" role="list">
            <li><a href="#menu">Menu</a></li>
            <li><a href="#build">Build</a></li>
            <li><a href="#promo">Promos</a></li>
            <li><a href="#contact">Contact</a></li>
          </ul>
        </div>

        <div class="footer-col">
          <h4>Follow</h4>
          <div class="socials">
            <a class="icon-btn" href="https://snapchat.com" aria-label="Snapchat">@kenneth_idk</a>
            <a class="icon-btn" href="https://wa.me/233552509241" aria-label="WhatsApp">WhatsApp</a>
          </div>

          <div class="newsletter">
            <label for="newsletter" class="muted">Get promos & deals</label>
            <div class="newsletter-form">
              <input id="newsletter" type="email" placeholder="Email address" aria-label="Email address">
              <button class="btn small">Subscribe</button>
            </div>
          </div>
        </div>
      </div>

      <div class="container copyright">
        <small class="muted">© <span id="year">2025</span> Wrap District. All rights reserved.</small>
      </div>
    </footer>
  </main>

  <!-- End of body -->
</body>

























  











  <script>
/**
 * Wrap District — Full Frontend Interaction Script
 * - Wires hero carousel, builder modal, cart drawer, quick-order, promo, chat (Manef),
 *   search, filters, favorites, mobile nav (hamburger), parallax layers, and all buttons.
 * - Persists cart & favourites to localStorage.
 * - Designed to work with the HTML body you provided.
 *
 * Drop this script at the end of the <body>.
 */
(() => {
  // ---------- Utilities ----------
  const WA_PHONE = '233552509241';
  const WA = (text) => `https://wa.me/${WA_PHONE}?text=${encodeURIComponent(text)}`;

  const $ = (sel, ctx = document) => (ctx || document).querySelector(sel);
  const $$ = (sel, ctx = document) => Array.from((ctx || document).querySelectorAll(sel));
  const on = (el, ev, fn) => el && el.addEventListener(ev, fn);
  const clamp = (n, a, b) => Math.max(a, Math.min(b, n));
  const fmt = (n) => `GHC ${Number(n).toFixed(2)}`;

  // Local storage keys
  const CART_KEY = 'wrapdistrict_cart_v2';
  const FAV_KEY = 'wrapdistrict_favs_v1';

  // ---------- Catalog (same structure used by builder) ----------
  const CATALOG = {
    shawarma: {
      name: 'Shawarma',
      sizes: [{ id: 'regular', label: 'Regular', price: 45 }, { id: 'jumbo', label: 'Jumbo', price: 65 }],
      proteins: [{ id: 'chicken', label: 'Chicken', price: 0 }, { id: 'beef', label: 'Beef', price: 10 }, { id: 'mixed', label: 'Mixed', price: 15 }],
      fillings: [{ id: 'lettuce', label: 'Lettuce', price: 0 }, { id: 'tomato', label: 'Tomato', price: 0 }, { id: 'onion', label: 'Onion', price: 0 }, { id: 'cheese', label: 'Cheese', price: 5 }, { id: 'sausage', label: 'Sausage', price: 8 }, { id: 'egg', label: 'Egg', price: 6 }],
      sauces: [{ id: 'garlic', label: 'Garlic Mayo' }, { id: 'ketchup', label: 'Ketchup' }, { id: 'chili', label: 'Chilli' }, { id: 'mustard', label: 'Mustard' }, { id: 'bbq', label: 'BBQ' }]
    },
    fries: {
      name: 'Loaded Fries',
      sizes: [{ id: 'single', label: 'Single', price: 55 }, { id: 'large', label: 'Large', price: 70 }],
      proteins: [{ id: 'none', label: 'No protein', price: 0 }, { id: 'chicken', label: 'Chicken', price: 10 }, { id: 'beef', label: 'Beef', price: 12 }, { id: 'bacon', label: 'Bacon', price: 12 }],
      fillings: [{ id: 'cheese', label: 'Cheese', price: 4 }, { id: 'jalapeno', label: 'Jalapeno', price: 3 }, { id: 'onion', label: 'Onion', price: 0 }],
      sauces: [{ id: 'cheese', label: 'Cheese Sauce' }, { id: 'chili', label: 'Chili Sauce' }, { id: 'mayo', label: 'Garlic Mayo' }]
    },
    angwamo: {
      name: 'Loaded Angwamo',
      sizes: [{ id: 'plate', label: 'Plate', price: 55 }, { id: 'combo', label: 'Combo', price: 70 }],
      proteins: [{ id: 'chicken', label: 'Chicken', price: 0 }, { id: 'beef', label: 'Beef', price: 10 }],
      fillings: [{ id: 'egg', label: 'Egg', price: 0 }, { id: 'coleslaw', label: 'Coleslaw', price: 5 }, { id: 'salad', label: 'Salad', price: 4 }],
      sauces: [{ id: 'spice', label: 'Spicy' }, { id: 'mild', label: 'Mild' }]
    },
    rice: {
      name: 'Fried Rice',
      sizes: [{ id: 'regular', label: 'Regular', price: 60 }, { id: 'extra', label: 'Extra', price: 80 }],
      proteins: [{ id: 'chicken', label: 'Chicken', price: 0 }, { id: 'beef', label: 'Beef', price: 12 }, { id: 'shrimp', label: 'Shrimp', price: 18 }],
      fillings: [{ id: 'veg', label: 'Veg', price: 0 }, { id: 'egg', label: 'Egg', price: 6 }],
      sauces: []
    }
  };

  // ---------- State: cart, favs ----------
  let cart = loadFromStorage(CART_KEY) || [];
  let favs = loadFromStorage(FAV_KEY) || {};

  function loadFromStorage(key) {
    try {
      const s = localStorage.getItem(key);
      return s ? JSON.parse(s) : null;
    } catch (e) {
      return null;
    }
  }
  function saveToStorage(key, val) {
    try { localStorage.setItem(key, JSON.stringify(val)); } catch (e) { /* ignore */ }
  }

  // ---------- Helpers for cart ----------
  function cartCount() {
    return cart.reduce((s, it) => s + (it.qty || 0), 0);
  }
  function cartSubtotal() {
    return cart.reduce((s, it) => s + (it.unitPrice * (it.qty || 1)), 0);
  }
  function cartDeliveryFee() {
    return cart.length ? 10 : 0;
  }
  function cartTotal() {
    return cartSubtotal() + cartDeliveryFee();
  }

  function updateCartBadgeUI() {
    const badge = $('#cart-count');
    if (!badge) return;
    badge.textContent = String(cartCount());
    badge.setAttribute('data-count', String(cartCount()));
    // small pulse
    badge.classList.add('pulse'); setTimeout(()=>badge.classList.remove('pulse'), 900);
  }

  function renderMiniCartTotal() {
    const el = $('#mini-cart-total');
    if (!el) return;
    el.textContent = fmt(cartSubtotal());
  }

  function renderCartDrawer() {
    const drawer = $('#cart-drawer');
    if (!drawer) return;
    const itemsWrap = drawer.querySelector('.cart-items');
    itemsWrap.innerHTML = '';
    cart.forEach((it, idx) => {
      const li = document.createElement('li');
      li.className = 'cart-item';
      li.dataset.index = idx;
      li.innerHTML = `
        <div class="cart-item-row">
          <div>
            <strong class="cart-item-title">${escapeHtml(it.name)}</strong>
            <div class="muted small">${escapeHtml(it.optionsSummary || '')}</div>
          </div>
          <div style="text-align:right">
            <div class="muted small">Unit: ${fmt(it.unitPrice)}</div>
            <div style="margin:6px 0">Qty: <strong>${it.qty}</strong></div>
            <div class="cart-item-subtotal">${fmt(it.unitPrice * it.qty)}</div>
            <div style="margin-top:8px">
              <button class="icon-btn remove-item" data-index="${idx}" aria-label="Remove item">Remove</button>
            </div>
          </div>
        </div>`;
      itemsWrap.appendChild(li);
    });

    $('#cart-subtotal').textContent = fmt(cartSubtotal());
    $('#cart-delivery').textContent = fmt(cartDeliveryFee());
    $('#cart-total').textContent = fmt(cartTotal());
  }

  function escapeHtml(s) {
    if (!s && s !== 0) return '';
    return String(s).replace(/[&<>"']/g, (m) => ({ '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;' }[m]));
  }

  function addToCart(item) {
    // item: { id, name, qty, unitPrice, optionsSummary, meta? }
    // merge by id + optionsSummary
    const key = (item.id || '') + '|' + (item.optionsSummary || '');
    const found = cart.find(c => ((c.id || '') + '|' + (c.optionsSummary || '')) === key);
    if (found) found.qty += item.qty;
    else cart.push(Object.assign({}, item));
    saveToStorage(CART_KEY, cart);
    updateCartBadgeUI();
    renderMiniCartTotal();
    renderCartDrawer();
    showToast('Added to cart');
  }

  function removeCartIndex(idx) {
    if (idx < 0 || idx >= cart.length) return;
    cart.splice(idx, 1);
    saveToStorage(CART_KEY, cart);
    updateCartBadgeUI();
    renderMiniCartTotal();
    renderCartDrawer();
  }

  function clearCart() {
    cart = [];
    saveToStorage(CART_KEY, cart);
    updateCartBadgeUI();
    renderMiniCartTotal();
    renderCartDrawer();
  }

  // ---------- Initial UI render ----------
  updateCartBadgeUI();
  renderMiniCartTotal();
  renderCartDrawer();

  // ---------- Hero Carousel ----------
  function initCarousel() {
    const carousel = document.querySelector('[data-carousel]');
    if (!carousel) return;
    const slides = Array.from(carousel.querySelectorAll('.hero-slide'));
    const dots = Array.from(carousel.querySelectorAll('.carousel-dots .dot'));
    const prev = carousel.querySelector('[data-carousel-prev]');
    const next = carousel.querySelector('[data-carousel-next]');
    let active = slides.findIndex(s => s.classList.contains('active') || s.getAttribute('aria-hidden') === 'false');
    if (active < 0) active = 0;
    let timer = null;
    const AUTO = 4500;

    function show(idx) {
      idx = (idx + slides.length) % slides.length;
      slides.forEach((s, i) => {
        const hidden = i !== idx;
        s.setAttribute('aria-hidden', hidden ? 'true' : 'false');
        s.classList.toggle('active', !hidden);
      });
      dots.forEach((d, i) => {
        d.classList.toggle('active', i === idx);
        d.setAttribute('aria-selected', i === idx ? 'true' : 'false');
      });
      active = idx;
    }
    function prevSlide() { show(active - 1); resetTimer(); }
    function nextSlide() { show(active + 1); resetTimer(); }

    prev && prev.addEventListener('click', prevSlide);
    next && next.addEventListener('click', nextSlide);
    dots.forEach((d, i) => d.addEventListener('click', () => { show(i); resetTimer(); }));

    carousel.addEventListener('mouseenter', () => { if (timer) clearInterval(timer); });
    carousel.addEventListener('mouseleave', resetTimer);
    carousel.addEventListener('touchstart', () => { if (timer) clearInterval(timer); }, { passive: true });
    carousel.addEventListener('touchend', resetTimer);

    function resetTimer() {
      if (timer) clearInterval(timer);
      timer = setInterval(() => { show(active + 1); }, AUTO);
    }

    // keyboard left/right
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') prevSlide();
      else if (e.key === 'ArrowRight') nextSlide();
    });

    // set background images for slides & small parallax on pointer move
    slides.forEach((s) => {
      const media = s.querySelector('.slide-media');
      const imgKey = s.dataset.img;
      if (media && imgKey) {
        // if CSS used data-img -> CSS covers; but we also set inline background fallback if missing
        if (!getComputedStyle(media).backgroundImage || getComputedStyle(media).backgroundImage === 'none') {
          // map known keys to images used earlier (the user said use same images already used)
          const map = {
            'hero-shawarma-large': 'https://images.unsplash.com/photo-1604908554325-1ff3a7b1b0f8?q=80&w=1400&auto=format&fit=crop',
            'hero-fries-large': 'https://images.unsplash.com/photo-1542444459-db0b8c7dfb3a?q=80&w=1400&auto=format&fit=crop'
          };
          if (map[imgKey]) media.style.backgroundImage = `linear-gradient(120deg, rgba(0,0,0,0.18), rgba(0,0,0,0.06)), url('${map[imgKey]}')`;
          else media.style.background = 'linear-gradient(120deg, rgba(0,0,0,0.18), rgba(0,0,0,0.06))';
        }
        // pointer parallax
        s.addEventListener('pointermove', (ev) => {
          const r = s.getBoundingClientRect();
          const px = (ev.clientX - r.left) / r.width - 0.5;
          const py = (ev.clientY - r.top) / r.height - 0.5;
          media.style.transform = `translate3d(${px * 10}px, ${py * 8}px, 0) scale(1.02)`;
        });
        s.addEventListener('pointerleave', () => { media.style.transform = ''; });
      }
    });

    resetTimer();
    return { show };
  }

  // ---------- Parallax Background layers (hero) ----------
  function initParallax() {
    const hero = $('#hero');
    if (!hero) return;
    const layers = Array.from(hero.querySelectorAll('.hero-bg-layer'));
    function move() {
      const top = hero.getBoundingClientRect().top;
      // small transform based on scroll
      layers.forEach((l, i) => {
        const speed = (i + 1) * 0.04;
        l.style.transform = `translateY(${Math.round(-top * speed)}px)`;
      });
    }
    window.addEventListener('scroll', throttle(move, 16), { passive: true });
    move();
  }

  function throttle(fn, wait) {
    let t = 0;
    return function (...args) {
      const now = Date.now();
      if (now - t > wait) { t = now; fn.apply(this, args); }
    };
  }

  // ---------- Promo glow & collage animation ----------
  function initPromo() {
    const promo = $('#promo');
    if (!promo) return;
    let on = false;
    setInterval(() => {
      on = !on;
      promo.classList.toggle('promo-glow', on);
    }, 2200);

    // small hover wobble on collage items
    const items = $$('.collage-item');
    items.forEach(it => {
      it.addEventListener('mouseenter', () => { it.style.transform = 'translateY(-10px) rotate(0)'; it.style.transition = 'transform 480ms cubic-bezier(.2,.9,.25,1)'; });
      it.addEventListener('mouseleave', () => { it.style.transform = ''; });
    });
  }

  // ---------- Search ----------
  function initSearch() {
    const searchBtn = $('.search-btn');
    on(searchBtn, 'click', () => {
      const q = prompt('Search menu (type a name):');
      if (!q) return;
      const candidates = $$('[data-id], .menu-item, .pick');
      const found = candidates.find(c => (c.dataset.id || c.textContent || '').toLowerCase().includes(q.toLowerCase()));
      if (found) {
        found.scrollIntoView({ behavior: 'smooth', block: 'center' });
        found.classList.add('pulse-highlight');
        setTimeout(() => found.classList.remove('pulse-highlight'), 1500);
      } else {
        alert('No matching item found.');
      }
    });
  }

  // ---------- Filters (menu) ----------
  function initFilters() {
    const filters = $$('.filter');
    filters.forEach(f => {
      f.addEventListener('click', (e) => {
        const key = f.dataset.filter;
        filters.forEach(x => x.classList.toggle('active', x === f));
        const items = $$('.menu-item');
        items.forEach(it => {
          const cat = it.dataset.category || 'all';
          const show = key === 'all' ? true : (cat === key);
          it.style.display = show ? '' : 'none';
        });
      });
    });
  }

  // ---------- Favorites (simple) ----------
  function initFavorites() {
    document.body.addEventListener('click', (e) => {
      const btn = e.target.closest('[data-action="fav"]');
      if (!btn) return;
      const article = btn.closest('.menu-item, .pick');
      const id = article ? article.dataset.id || article.dataset.id : null;
      if (!id) {
        showToast('Cannot favourite this item');
        return;
      }
      favs[id] = !favs[id];
      saveToStorage(FAV_KEY, favs);
      btn.classList.toggle('favored', !!favs[id]);
      showToast(favs[id] ? 'Added to favourites' : 'Removed from favourites', 1200);
    });
    // initialize existing fav buttons
    $$('[data-action="fav"]').forEach(btn => {
      const article = btn.closest('.menu-item, .pick');
      const id = article && (article.dataset.id || article.dataset.id);
      if (id && favs[id]) btn.classList.add('favored');
    });
  }

  // ---------- Quick picks / Add to cart / Customize ----------
  function initQuickActions() {
    // Delegation: add-to-cart, open-builder, quick-order, view-cart
    document.body.addEventListener('click', (e) => {
      const add = e.target.closest('[data-action="add-to-cart"]');
      if (add) {
        e.preventDefault();
        handleAddToCartClick(add);
        return;
      }
      const openBuilder = e.target.closest('[data-action="open-builder"]');
      if (openBuilder) {
        e.preventDefault();
        const it = openBuilder.dataset.item;
        openBuilderModal(it);
        return;
      }
      const quick = e.target.closest('[data-action="quick-order"]');
      if (quick) {
        e.preventDefault();
        const it = quick.dataset.item;
        quickOrder(it);
        return;
      }
      const viewCart = e.target.closest('[data-action="view-cart"]');
      if (viewCart) {
        e.preventDefault();
        openCartDrawer();
        return;
      }
    });

    // Delegated remove from cart
    document.body.addEventListener('click', (e) => {
      const rem = e.target.closest('.remove-item');
      if (!rem) return;
      const idx = Number(rem.dataset.index);
      if (!Number.isNaN(idx)) removeCartIndex(idx);
    });

    // Clear cart
    document.body.addEventListener('click', (e) => {
      if (e.target.closest('[data-action="clear-cart"], .clear-cart')) {
        e.preventDefault();
        if (confirm('Clear your cart?')) clearCart();
      }
    });

    // Checkout via WA
    const checkoutBtn = $('#checkout-wa');
    if (checkoutBtn) checkoutBtn.addEventListener('click', (e) => { e.preventDefault(); doCheckout(); });
  }

  function handleAddToCartClick(btn) {
    // prefer dataset.item else find enclosing .pick or .menu-item
    const itemKey = btn.dataset.item || btn.closest('.pick')?.dataset.id || btn.closest('.menu-item')?.dataset.category;
    if (!itemKey) {
      showToast('Cannot add this item automatically');
      return;
    }
    const cfg = CATALOG[itemKey];
    if (!cfg) {
      // fallback: treat price as 0
      const name = btn.closest('[data-id]')?.dataset.id || itemKey;
      addToCart({ id: `${itemKey}-${Date.now()}`, name: name || 'Item', qty: 1, unitPrice: Number(btn.dataset.price || 0), optionsSummary: 'Default' });
      return;
    }
    const defaultSize = cfg.sizes[0];
    const item = { id: `${itemKey}-${Date.now()}`, name: cfg.name, qty: 1, unitPrice: defaultSize.price, optionsSummary: defaultSize.label };
    addToCart(item);
  }

  function quickOrder(itemKey) {
    const cfg = CATALOG[itemKey];
    if (!cfg) return alert('Item not found');
    const defaultSize = cfg.sizes[0];
    const msg = `Hello Wrap District, I would like 1 x ${cfg.name} (${defaultSize.label}). Please deliver to [address]. Thanks!`;
    window.open(WA(msg), '_blank');
  }

  // ---------- Cart drawer open/close ----------
  function openCartDrawer() {
    const drawer = $('#cart-drawer');
    if (!drawer) return;
    drawer.hidden = false;
    drawer.setAttribute('aria-hidden', 'false');
    document.documentElement.classList.add('no-scroll');
    renderCartDrawer();
  }
  function closeCartDrawer() {
    const drawer = $('#cart-drawer');
    if (!drawer) return;
    drawer.hidden = true;
    drawer.setAttribute('aria-hidden', 'true');
    document.documentElement.classList.remove('no-scroll');
  }
  // hook close buttons
  $$('.drawer-close, [data-action="close-cart"]').forEach(btn => on(btn, 'click', (e) => { e.preventDefault(); closeCartDrawer(); }));

  // ---------- Builder modal ----------
  const builderModal = $('#builder-modal');
  let builderState = null; // will be object when open

  function openBuilderModal(itemKey) {
    const cfg = CATALOG[itemKey];
    if (!cfg) {
      showToast('Cannot open builder for this item');
      return;
    }
    builderState = {
      itemKey,
      size: cfg.sizes[0].id,
      protein: cfg.proteins[0].id,
      fillings: new Set(),
      sauces: new Set(),
      qty: 1,
      delivery: 'pickup'
    };
    populateBuilder(cfg);
    builderModal.hidden = false;
    builderModal.setAttribute('aria-hidden', 'false');
    document.documentElement.classList.add('no-scroll');
    // show first step
    gotoBuilderStep('size');
    updateBuilderPreview();
  }

  function closeBuilderModal() {
    if (!builderModal) return;
    builderModal.hidden = true;
    builderModal.setAttribute('aria-hidden', 'true');
    document.documentElement.classList.remove('no-scroll');
    builderState = null;
  }

  on(document, 'click', (e) => {
    if (e.target.closest('[data-action="close-builder"]')) { e.preventDefault(); closeBuilderModal(); }
  });

  function populateBuilder(cfg) {
    // title
    const title = $('#builder-title');
    if (title) title.textContent = `Build: ${cfg.name}`;

    // panels
    const panels = $$('[data-step-panel]');
    panels.forEach(p => p.hidden = true);

    // sizes
    const sizePanel = $('[data-step-panel="size"] .options-grid');
    if (sizePanel) {
      sizePanel.innerHTML = '';
      cfg.sizes.forEach(s => {
        const btn = document.createElement('button');
        btn.className = 'option';
        btn.type = 'button';
        btn.dataset.optType = 'size';
        btn.dataset.optId = s.id;
        btn.dataset.optPrice = s.price;
        btn.innerHTML = `<strong>${escapeHtml(s.label)}</strong><div class="muted small">${fmt(s.price)}</div>`;
        if (s.id === builderState.size) btn.classList.add('selected');
        btn.addEventListener('click', () => {
          builderState.size = s.id;
          sizePanel.querySelectorAll('.option').forEach(x => x.classList.remove('selected'));
          btn.classList.add('selected');
          updateBuilderPreview();
        });
        sizePanel.appendChild(btn);
      });
    }

    // proteins
    const proteinPanel = $('[data-step-panel="protein"] .options-grid');
    if (proteinPanel) {
      proteinPanel.innerHTML = '';
      cfg.proteins.forEach(p => {
        const btn = document.createElement('button');
        btn.className = 'option';
        btn.type = 'button';
        btn.dataset.optType = 'protein';
        btn.dataset.optId = p.id;
        btn.dataset.optPrice = p.price;
        btn.innerHTML = `<strong>${escapeHtml(p.label)}</strong><div class="muted small">${p.price ? '+ ' + fmt(p.price) : 'Included'}</div>`;
        if (p.id === builderState.protein) btn.classList.add('selected');
        btn.addEventListener('click', () => {
          builderState.protein = p.id;
          proteinPanel.querySelectorAll('.option').forEach(x => x.classList.remove('selected'));
          btn.classList.add('selected');
          updateBuilderPreview();
        });
        proteinPanel.appendChild(btn);
      });
    }

    // fillings (multi)
    const fillingsPanel = $('[data-step-panel="fillings"] .options-grid');
    if (fillingsPanel) {
      fillingsPanel.innerHTML = '';
      (cfg.fillings || []).forEach(f => {
        const btn = document.createElement('button');
        btn.className = 'option';
        btn.type = 'button';
        btn.dataset.optType = 'fillings';
        btn.dataset.optId = f.id;
        btn.dataset.optPrice = f.price || 0;
        btn.innerHTML = `<span>${escapeHtml(f.label)}</span><div class="muted small">${f.price ? '+ ' + fmt(f.price) : ''}</div>`;
        if (builderState.fillings.has(f.id)) btn.classList.add('selected');
        btn.addEventListener('click', () => {
          if (builderState.fillings.has(f.id)) { builderState.fillings.delete(f.id); btn.classList.remove('selected'); }
          else { builderState.fillings.add(f.id); btn.classList.add('selected'); }
          updateBuilderPreview();
        });
        fillingsPanel.appendChild(btn);
      });
    }

    // sauces (multi)
    const saucesPanel = $('[data-step-panel="sauces"] .options-grid');
    if (saucesPanel) {
      saucesPanel.innerHTML = '';
      (cfg.sauces || []).forEach(s => {
        const btn = document.createElement('button');
        btn.className = 'option';
        btn.type = 'button';
        btn.dataset.optType = 'sauces';
        btn.dataset.optId = s.id;
        btn.innerHTML = `<span>${escapeHtml(s.label)}</span>`;
        if (builderState.sauces.has(s.id)) btn.classList.add('selected');
        btn.addEventListener('click', () => {
          if (builderState.sauces.has(s.id)) { builderState.sauces.delete(s.id); btn.classList.remove('selected'); }
          else { builderState.sauces.add(s.id); btn.classList.add('selected'); }
          updateBuilderPreview();
        });
        saucesPanel.appendChild(btn);
      });
    }

    // qty controls
    const qtyInc = builderModal.querySelector('[data-action="qty-inc"]');
    const qtyDec = builderModal.querySelector('[data-action="qty-dec"]');
    const qtyDisplay = builderModal.querySelector('.qty-value');
    if (qtyDisplay) qtyDisplay.textContent = String(builderState.qty);
    on(qtyInc, 'click', () => { builderState.qty = clamp(builderState.qty + 1, 1, 99); if (qtyDisplay) qtyDisplay.textContent = String(builderState.qty); updateBuilderPreview(); });
    on(qtyDec, 'click', () => { builderState.qty = clamp(builderState.qty - 1, 1, 99); if (qtyDisplay) qtyDisplay.textContent = String(builderState.qty); updateBuilderPreview(); });

    // delivery radio
    builderModal.querySelectorAll('input[name="delivery"]').forEach(r => {
      r.onchange = (ev) => {
        builderState.delivery = ev.target.value;
        const addr = builderModal.querySelector('.delivery-address');
        if (addr) addr.hidden = (builderState.delivery !== 'delivery');
        updateBuilderPreview();
      };
    });

    // update preview image if exists
    const previewImage = $('[data-preview-image]');
    if (previewImage) {
      const imgKey = `preview-${(cfg.name || 'item').toLowerCase().replace(/\s+/g, '-')}`;
      // try to set background using same images as earlier
      previewImage.style.backgroundImage = `url('${determinePreviewImage(cfg)}')`;
      previewImage.style.backgroundSize = 'cover';
    }
  }

  function determinePreviewImage(cfg) {
    // small mapping fallback to unsplash placeholders if needed
    const map = {
      'Shawarma': 'https://images.unsplash.com/photo-1604908554325-1ff3a7b1b0f8?q=80&w=1200&auto=format&fit=crop',
      'Loaded Fries': 'https://images.unsplash.com/photo-1542444459-db0b8c7dfb3a?q=80&w=1200&auto=format&fit=crop',
      'Loaded Angwamo': 'https://images.unsplash.com/photo-1627308595229-7830a5c91f9f?q=80&w=1200&auto=format&fit=crop',
      'Fried Rice': 'https://images.unsplash.com/photo-1604754521116-9c6a1a2bde9a?q=80&w=1200&auto=format&fit=crop'
    };
    return map[cfg.name] || '';
  }

  function gotoBuilderStep(step) {
    $$('.builder-stepper .step').forEach(s => s.classList.toggle('active', s.dataset.step === step));
    $$('[data-step-panel]').forEach(p => p.hidden = (p.dataset.stepPanel !== step));
  }
  $$('.builder-stepper .step').forEach(s => s.addEventListener('click', () => gotoBuilderStep(s.dataset.step)));

  function updateBuilderPreview() {
    if (!builderState) return;
    const cfg = CATALOG[builderState.itemKey];
    if (!cfg) return;
    const sizeObj = cfg.sizes.find(s => s.id === builderState.size) || cfg.sizes[0];
    const proteinObj = cfg.proteins.find(p => p.id === builderState.protein) || cfg.proteins[0];
    let unit = (sizeObj ? sizeObj.price : 0) + (proteinObj ? proteinObj.price : 0);
    cfg.fillings.forEach(f => { if (builderState.fillings.has(f.id)) unit += (f.price || 0); });
    const deliveryFee = builderState.delivery === 'delivery' ? 10 : 0;
    const total = (unit + deliveryFee) * builderState.qty;

    const previewPriceEl = $('.preview-price');
    if (previewPriceEl) previewPriceEl.textContent = fmt(total);

    const qtyEl = $('.qty-value');
    if (qtyEl) qtyEl.textContent = String(builderState.qty);
  }

  // Add to cart from builder
  document.addEventListener('click', (e) => {
    const btn = e.target.closest('[data-action="add-to-cart"]');
    if (!btn) return;
    if (!builderState) {
      showToast('Open the builder to add custom items.');
      return;
    }
    const cfg = CATALOG[builderState.itemKey];
    const sizeObj = cfg.sizes.find(s => s.id === builderState.size) || cfg.sizes[0];
    const proteinObj = cfg.proteins.find(p => p.id === builderState.protein) || cfg.proteins[0];
    const fillingsArr = cfg.fillings.filter(f => builderState.fillings.has(f.id)).map(f => f.label);
    const saucesArr = cfg.sauces.filter(s => builderState.sauces.has(s.id)).map(s => s.label);

    let unit = (sizeObj ? sizeObj.price : 0) + (proteinObj ? proteinObj.price : 0);
    cfg.fillings.forEach(f => { if (builderState.fillings.has(f.id)) unit += (f.price || 0); });

    const optionsSummary = [
      `Size: ${sizeObj.label}`,
      `Protein: ${proteinObj.label}`,
      fillingsArr.length ? `Fillings: ${fillingsArr.join(', ')}` : null,
      saucesArr.length ? `Sauces: ${saucesArr.join(', ')}` : null,
      builderState.delivery === 'delivery' ? 'Delivery' : 'Pickup'
    ].filter(Boolean).join(' • ');

    const itemObj = {
      id: `${builderState.itemKey}-${Date.now()}`,
      name: cfg.name,
      qty: builderState.qty,
      unitPrice: Number(unit.toFixed(2)),
      optionsSummary,
      meta: {
        size: sizeObj,
        protein: proteinObj,
        fillings: fillingsArr,
        sauces: saucesArr,
        delivery: builderState.delivery
      }
    };

    addToCart(itemObj);
    closeBuilderModal();
  });

  // Order now from builder
  on(document, 'click', (e) => {
    const btn = e.target.closest('[data-action="order-now"]');
    if (!btn) return;
    if (!builderState) { showToast('Open the builder to order'); return; }
    const cfg = CATALOG[builderState.itemKey];
    const sizeObj = cfg.sizes.find(s => s.id === builderState.size) || cfg.sizes[0];
    const proteinObj = cfg.proteins.find(p => p.id === builderState.protein) || cfg.proteins[0];
    const fillings = cfg.fillings.filter(f => builderState.fillings.has(f.id)).map(f => f.label).join(', ') || 'None';
    const sauces = cfg.sauces.filter(s => builderState.sauces.has(s.id)).map(s => s.label).join(', ') || 'None';
    let unit = (sizeObj ? sizeObj.price : 0) + (proteinObj ? proteinObj.price : 0);
    cfg.fillings.forEach(f => { if (builderState.fillings.has(f.id)) unit += (f.price || 0); });
    const total = ((unit) + (builderState.delivery === 'delivery' ? 10 : 0)) * builderState.qty;
    const msg = `Hello Wrap District, I want ${builderState.qty} x ${cfg.name} (${sizeObj.label} / ${proteinObj.label}). Fillings: ${fillings}. Sauces: ${sauces}. Delivery: ${builderState.delivery === 'delivery' ? 'Yes' : 'Pickup'}. Total: ${fmt(total)}.`;
    window.open(WA(msg), '_blank');
  });

  // Quantity from builder preview controls (decs/inc)
  on(document, 'click', (e) => {
    const inc = e.target.closest('[data-action="qty-inc"]');
    const dec = e.target.closest('[data-action="qty-dec"]');
    if (!inc && !dec) return;
    if (!builderState) { showToast('Open the builder to change quantity'); return; }
    if (inc) builderState.qty = clamp((builderState.qty || 1) + 1, 1, 99);
    if (dec) builderState.qty = clamp((builderState.qty || 1) - 1, 1, 99);
    updateBuilderPreview();
  });

  // ---------- Checkout ----------
  function doCheckout() {
    if (!cart.length) { alert('Your cart is empty.'); return; }
    const lines = cart.map(it => `${it.qty} x ${it.name} (${it.optionsSummary || 'Default'}) — ${fmt(it.unitPrice)} each`);
    const totals = cartSubtotal();
    const delivery = cartDeliveryFee();
    const total = cartTotal();
    const message = `Hello Wrap District, I'd like to place an order:\n${lines.join('\n')}\n\nSubtotal: ${fmt(totals)}\nDelivery: ${fmt(delivery)}\nTotal: ${fmt(total)}\n\nPlease deliver to: [enter address]\nThanks!`;
    window.open(WA(message), '_blank');
  }

  // ---------- Chatbot (Manef) ----------
  function initChat() {
    const toggle = document.querySelector('[data-action="toggle-chat"], .chat-toggle');
    const panel = $('#chat-panel');
    const chatMessages = panel?.querySelector('.chat-messages');
    const chatInput = panel?.querySelector('.chat-input');
    if (!toggle || !panel || !chatMessages || !chatInput) return;

    toggle.addEventListener('click', (e) => {
      const isOpen = !panel.hidden;
      panel.hidden = isOpen;
      toggle.setAttribute('aria-expanded', String(!isOpen));
      if (!isOpen) chatInput.focus();
    });

    // close chat
    document.querySelectorAll('[data-action="close-chat"]').forEach(b => b.addEventListener('click', () => { panel.hidden = true; toggle.setAttribute('aria-expanded', 'false'); }));

    // send
    function sendChat() {
      const txt = chatInput.value.trim();
      if (!txt) return;
      appendChat('user', txt);
      chatInput.value = '';
      setTimeout(() => handleBot(txt), 400 + Math.random() * 700);
    }
    chatInput.addEventListener('keydown', (e) => { if (e.key === 'Enter') { e.preventDefault(); sendChat(); } });
    document.querySelectorAll('[data-action="send-chat"]').forEach(b => b.addEventListener('click', sendChat));

    function appendChat(who, text) {
      const el = document.createElement('div');
      el.className = `chat-msg ${who}`;
      el.textContent = text;
      chatMessages.appendChild(el);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    appendChat('bot', "Hello! I'm Manef — your virtual chef. Ask me about menu, promos, or say 'build shawarma'.");

    function handleBot(text) {
      const t = text.toLowerCase();
      if (t.includes('shawarma')) { appendChat('bot', 'Shawarma ranges from GHC 45 to 80 depending on size & fillings. Want to build one? Type "build shawarma".'); return; }
      if (t.includes('fries')) { appendChat('bot', 'Loaded fries start at GHC 55. Add chicken or bacon for extra. Want to customize? Type "build fries".'); return; }
      if (t.includes('build') && t.includes('shawarma')) { appendChat('bot', 'Opening the shawarma builder...'); openBuilderModal('shawarma'); return; }
      if (t.includes('build') && t.includes('fries')) { appendChat('bot', 'Opening the fries builder...'); openBuilderModal('fries'); return; }
      if (t.includes('promo') || t.includes('free') || t.includes('tuesday')) { appendChat('bot', 'Promo: Buy 2 Shawarmas, get 1 free — Tuesdays. Loaded Fries includes a free Coke right now.'); return; }
      if (t.includes('delivery')) { appendChat('bot', 'Yes we deliver within Tema & nearby areas. Delivery fee is usually GHC 10.'); return; }
      if (t.includes('order') && (t.includes('whatsapp') || t.includes('wa'))) { appendChat('bot', 'Use the yellow Order Now button or tell me what you want and I will prepare a WhatsApp order.'); return; }
      appendChat('bot', "I'm Manef — I can help with menu, building meals, promos or placing orders. Try: 'How much is shawarma?' or 'Build shawarma'.");
    }
  }

  // ---------- Toast ----------
  let toastTimer = null;
  function showToast(text, timeout = 2000) {
    let to = document.querySelector('.wrap-toaster');
    if (!to) { to = document.createElement('div'); to.className = 'wrap-toaster'; document.body.appendChild(to); }
    to.textContent = text;
    to.classList.add('visible');
    if (toastTimer) clearTimeout(toastTimer);
    toastTimer = setTimeout(() => to.classList.remove('visible'), timeout);
  }

  // ---------- Nav (hamburger) for mobile: create if missing ----------
  function initMobileNav() {
    const headerInner = $('.header-inner');
    if (!headerInner) return;
    // if there's no hamburger, create one
    let burger = $('.site-header .hamburger');
    if (!burger) {
      burger = document.createElement('button');
      burger.className = 'hamburger icon-btn';
      burger.setAttribute('aria-label', 'Open menu');
      burger.innerHTML = `<svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 7h18M3 12h18M3 17h18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/></svg>`;
      headerInner.insertBefore(burger, headerInner.children[1]); // place near nav
    }

    // mobile nav toggling: add class to body for CSS to show/hide nav
    burger.addEventListener('click', (e) => {
      const isOpen = document.documentElement.classList.toggle('mobile-nav-open');
      burger.setAttribute('aria-expanded', String(isOpen));
      // focus management: focus first nav link when open
      if (isOpen) { const first = $('.main-nav .nav-link'); first && first.focus(); }
    });
  }

  // ---------- Keyboard handlers (global) ----------
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      // close modals, drawers, chat
      closeBuilderModal();
      closeCartDrawer();
      const chatPanel = $('#chat-panel'); if (chatPanel && !chatPanel.hidden) { chatPanel.hidden = true; }
      // close mobile nav
      if (document.documentElement.classList.contains('mobile-nav-open')) {
        document.documentElement.classList.remove('mobile-nav-open');
        const burger = $('.site-header .hamburger');
        if (burger) burger.setAttribute('aria-expanded', 'false');
      }
    }
  });

  // ---------- Promo & small inits ----------
  initPromo();
  initSearch();
  initFilters();
  initFavorites();
  initQuickActions();
  initChat();
  initMobileNav();
  const carouselObj = initCarousel();
  initParallax();

  // ---------- Cart drawer open (header button) ----------
  $$('.cart-btn, [data-action="open-cart"]').forEach(b => on(b, 'click', (e) => { e.preventDefault(); openCartDrawer(); }));

  // ---------- Remove item (delegation) ----------
  document.body.addEventListener('click', (e) => {
    const r = e.target.closest('.remove-item');
    if (!r) return;
    const idx = Number(r.dataset.index);
    if (!Number.isNaN(idx)) removeCartIndex(idx);
  });

  // ---------- Checkout button inside hero quick trigger (if any) ----------
  document.body.addEventListener('click', (e) => {
    const quick = e.target.closest('[data-action="checkout"]');
    if (!quick) return; e.preventDefault(); doCheckout();
  });

  // ---------- Simple accessibility improvements ----------
  // set year
  const yearEl = $('#year'); if (yearEl) yearEl.textContent = new Date().getFullYear();

  // ensure any element with data-img that lacks css background gets a fallback image for mobile performance
  $$('[data-img]').forEach(el => {
    const key = el.dataset.img;
    if (!getComputedStyle(el).backgroundImage || getComputedStyle(el).backgroundImage === 'none') {
      // small mapping similar to earlier
      const map = {
        'hero-shawarma-large': 'https://images.unsplash.com/photo-1604908554325-1ff3a7b1b0f8?q=80&w=1200&auto=format&fit=crop',
        'hero-fries-large': 'https://images.unsplash.com/photo-1542444459-db0b8c7dfb3a?q=80&w=1200&auto=format&fit=crop',
        'promo-shawarma': 'https://images.unsplash.com/photo-1604908554325-1ff3a7b1b0f8?q=80&w=800&auto=format&fit=crop',
        'promo-fries': 'https://images.unsplash.com/photo-1542444459-db0b8c7dfb3a?q=80&w=800&auto=format&fit=crop',
        'promo-angwamo': 'https://images.unsplash.com/photo-1627308595229-7830a5c91f9f?q=80&w=800&auto=format&fit=crop',
        'thumb-shawarma': 'https://images.unsplash.com/photo-1604908554325-1ff3a7b1b0f8?q=80&w=800&auto=format&fit=crop',
        'thumb-fries': 'https://images.unsplash.com/photo-1542444459-db0b8c7dfb3a?q=80&w=800&auto=format&fit=crop',
        'thumb-angwamo': 'https://images.unsplash.com/photo-1627308595229-7830a5c91f9f?q=80&w=800&auto=format&fit=crop',
        'thumb-rice': 'https://images.unsplash.com/photo-1604754521116-9c6a1a2bde9a?q=80&w=800&auto=format&fit=crop',
        'about-kitchen': 'https://images.unsplash.com/photo-1541542684-32e1077b2a3e?q=80&w=1200&auto=format&fit=crop'
      };
      if (map[key]) el.style.backgroundImage = `url('${map[key]}')`;
    }
  });

  // ---------- Utility: show small toast for actions ----------
  function showToast(msg, t = 2000) { showToastInternal(msg, t); }
  // implement once (reuse internal showToast created earlier)
  function showToastInternal(message, timeout) {
    let el = document.querySelector('.wrap-toaster');
    if (!el) { el = document.createElement('div'); el.className = 'wrap-toaster'; document.body.appendChild(el); }
    el.textContent = message;
    el.classList.add('visible');
    setTimeout(() => el.classList.remove('visible'), timeout || 2000);
  }

  // ---------- Expose debug / helpers ----------
  window.WrapDistrict = {
    cart,
    addToCart,
    removeCartIndex,
    clearCart,
    openCartDrawer,
    closeCartDrawer,
    openBuilderModal,
    closeBuilderModal,
    gotoBuilderStep,
    doCheckout
  };

  // ---------- Small UX polish: animate ingredients on hover (hero) ----------
  $$('.ingredient-item').forEach(item => {
    item.addEventListener('mouseenter', () => {
      item.classList.add('hover');
      item.style.transform = 'translateY(-6px)';
    });
    item.addEventListener('mouseleave', () => {
      item.classList.remove('hover');
      item.style.transform = '';
    });
  });

  // ---------- ensure all clickable buttons have pointer cursor (defensive) ----------
  $$('button, a').forEach(el => { el.style.cursor = el.style.cursor || 'pointer'; });

  // Done initializing
  console.info('Wrap District frontend script initialized — ready.');

})();
</script>
</html>
